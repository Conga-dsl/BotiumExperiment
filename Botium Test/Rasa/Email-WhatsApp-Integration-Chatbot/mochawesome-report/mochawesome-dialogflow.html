<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:1319,&quot;passes&quot;:1319,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2022-07-18T16:47:58.316Z&quot;,&quot;end&quot;:&quot;2022-07-18T17:12:52.067Z&quot;,&quot;duration&quot;:1493751,&quot;testsRegistered&quot;:1319,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;ecdecf61-4b01-4d64-ae25-e5fd0803d5c7&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;title&quot;:&quot;Botium Test-Suite&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Botium Test-Suite\&quot;&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite \&quot;before all\&quot; hook in \&quot;Botium Test-Suite\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:38,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.Build()\n  .then((container) =&gt; {\n    suite.container = container\n    done()\n  })\n  .catch(done)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2125be6f-cbfa-4cc8-bb39-4ed3191ba223&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Botium Test-Suite\&quot;&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite \&quot;before each\&quot; hook in \&quot;Botium Test-Suite\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;suite.container ? suite.container.Start().then(() =&gt; done()).catch(done) : done()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4df80ae-e6ed-43cc-8cbb-6243b4cb9435&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Botium Test-Suite\&quot;&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite \&quot;after all\&quot; hook in \&quot;Botium Test-Suite\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;suite.container ? suite.container.Clean().then(() =&gt; done()).catch(done) : done()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e63b8bce-abbe-4f5e-a931-12537efb6d03&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Botium Test-Suite\&quot;&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite \&quot;after each\&quot; hook in \&quot;Botium Test-Suite\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;suite.container ? suite.container.Stop().then(() =&gt; done()).catch(done) : done()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cba7c5ca-76e5-4d20-ac4e-a380e5c6a333&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Convos/bot_challenge.convo.txt/bot_challenge-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/bot_challenge.convo.txt/bot_challenge-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:681,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: are you a bot?\\n#bot: I am a bot, powered by Rasa.\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb430a0e-5635-4bae-a36d-093f0b712a09&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/bot_challenge.convo.txt/bot_challenge-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/bot_challenge.convo.txt/bot_challenge-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:558,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: are you a human?\\n#bot: I am a bot, powered by Rasa.\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0140af12-6de8-4fb9-8b76-7b8012ba87ae&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/bot_challenge.convo.txt/bot_challenge-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/bot_challenge.convo.txt/bot_challenge-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:491,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: am I talking to a bot?\\n#bot: I am a bot, powered by Rasa.\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3804b767-f564-483b-86fe-c4bd454f7f68&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/bot_challenge.convo.txt/bot_challenge-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/bot_challenge.convo.txt/bot_challenge-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:508,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: am I talking to a human?\\n#bot: I am a bot, powered by Rasa.\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee1872ab-816a-40c5-8a0b-87350ae62dd0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L1/mood_greet-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L1/mood_greet-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:956,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: perfect\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f3e0790-c668-4d21-beeb-80c1f0ca76d5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L1/mood_greet-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L1/mood_greet-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:880,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e29c702c-368d-4163-9d3e-584cb7b0de0a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L1/mood_greet-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L1/mood_greet-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:717,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;941c8f3e-30f3-4879-9ff7-ac3bf677ceb4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L1/mood_greet-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L1/mood_greet-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:898,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: amazing\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5237af68-a1db-454e-95d5-89a19b1e4766&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L1/mood_greet-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L1/mood_greet-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:838,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: wonderful\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5fcc71a-5502-4211-8910-d657614cd921&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L1/mood_greet-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L1/mood_greet-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:831,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: I am feeling very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5e931f5-4553-40c2-8c78-dc0efadeab73&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L1/mood_greet-L7&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L1/mood_greet-L7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:651,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: I am great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91803ee6-2b7b-4679-ab96-57e15cb02c70&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L1/mood_greet-L8&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L1/mood_greet-L8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:766,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: I&#x27;m good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f7f22c1-31da-47a9-8da6-070a5711b56d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L2/mood_greet-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L2/mood_greet-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:882,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: perfect\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62b82ff3-b8d2-4f12-b1af-c5731e8a37ce&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L2/mood_greet-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L2/mood_greet-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:671,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;390b8ce3-322a-435a-ac89-cf3b2ebe71da&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L2/mood_greet-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L2/mood_greet-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:718,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a1a64cb-7516-4d78-bc62-cca2da005b74&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L2/mood_greet-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L2/mood_greet-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:732,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: amazing\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b204245c-b029-4eca-97fd-7520abe41fc2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L2/mood_greet-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L2/mood_greet-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:744,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: wonderful\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;941e25c2-06af-4262-a1d5-2d094e4535f6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L2/mood_greet-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L2/mood_greet-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:725,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: I am feeling very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25f8ccb8-1767-4b01-ae03-fc022da78a2a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L2/mood_greet-L7&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L2/mood_greet-L7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:827,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: I am great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad052944-895e-4440-8321-69824727a8e2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L2/mood_greet-L8&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L2/mood_greet-L8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:841,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: I&#x27;m good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59f1c3c6-8ee3-409f-b193-c6d2089d8c15&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L3/mood_greet-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L3/mood_greet-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:656,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: perfect\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd1f8d2a-c23a-4ef8-83e9-c38f03599f74&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L3/mood_greet-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L3/mood_greet-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:791,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;489d0f34-415f-418a-86f0-326bfb89b835&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L3/mood_greet-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L3/mood_greet-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:728,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;204ac0d3-6034-45ff-998f-3518ecce6d10&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L3/mood_greet-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L3/mood_greet-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:803,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: amazing\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d2f500e-9319-4be3-8078-295cf33892cc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L3/mood_greet-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L3/mood_greet-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:694,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: wonderful\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8e21c16-b537-4b9a-b96e-dd05988927ab&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L3/mood_greet-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L3/mood_greet-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:746,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: I am feeling very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f9d295c-3ac7-467b-9a75-797d73e685a4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L3/mood_greet-L7&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L3/mood_greet-L7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:721,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: I am great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d50d8720-d2af-4702-a54e-331650bba638&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L3/mood_greet-L8&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L3/mood_greet-L8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:726,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: I&#x27;m good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76c29f4a-6946-449d-9243-a911dbae8a22&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L4/mood_greet-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L4/mood_greet-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:688,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: perfect\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6928e99e-38b0-436e-b9ba-c26ac42c3503&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L4/mood_greet-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L4/mood_greet-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:778,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9e982c0-d4ee-4d0a-a7ee-0cdd0a073177&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L4/mood_greet-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L4/mood_greet-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:701,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51d56900-66a7-4122-8550-c7c1c2a01279&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L4/mood_greet-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L4/mood_greet-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:853,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: amazing\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20a1229b-2d62-44fb-a1e2-e481cdc095e3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L4/mood_greet-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L4/mood_greet-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:708,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: wonderful\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;218f9fd6-a94c-4e22-b566-7630091426de&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L4/mood_greet-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L4/mood_greet-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:836,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: I am feeling very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0cd8d31c-0022-47f3-9c2a-10126a9472d1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L4/mood_greet-L7&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L4/mood_greet-L7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:647,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: I am great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c4d764a-2fbb-49b1-8d78-f4c64eadb5be&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L4/mood_greet-L8&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L4/mood_greet-L8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:797,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: I&#x27;m good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98b109d3-1be8-4224-b453-da661575edc2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L5/mood_greet-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L5/mood_greet-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:831,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: perfect\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb90a0e4-fd51-4506-9b11-6cb55180043d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L5/mood_greet-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L5/mood_greet-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:667,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98407a2b-eb30-48f9-bb3b-7111ad2f076a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L5/mood_greet-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L5/mood_greet-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:801,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5cb629ec-bce3-40c5-97c1-f82f2aff4564&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L5/mood_greet-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L5/mood_greet-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:699,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: amazing\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b55d3580-1bf5-4398-a563-e6b981ed0076&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L5/mood_greet-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L5/mood_greet-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:726,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: wonderful\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3d1fa8c-a6c5-4120-9d57-172ae5babf03&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L5/mood_greet-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L5/mood_greet-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:715,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: I am feeling very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c7f47d3-a0c6-43e2-92e6-58e34b3f15c1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L5/mood_greet-L7&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L5/mood_greet-L7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:748,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: I am great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39506f4f-4cd0-4eca-a57b-2b41b19adbde&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L5/mood_greet-L8&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L5/mood_greet-L8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:735,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: I&#x27;m good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;544b4c6b-6f36-4c39-bc90-f1fbd0dd3d9f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L6/mood_greet-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L6/mood_greet-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:770,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: perfect\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8828062e-db12-4ab3-a302-1320f84c36ae&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L6/mood_greet-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L6/mood_greet-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:755,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a60963f3-527a-4e33-bfd4-e44e83d367bc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L6/mood_greet-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L6/mood_greet-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:707,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;548cf4c7-d6ef-4452-bbfb-4d54a00e3cea&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L6/mood_greet-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L6/mood_greet-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:719,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: amazing\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f5100b5-9fd1-4a8b-8b30-b948ef591b4b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L6/mood_greet-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L6/mood_greet-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:804,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: wonderful\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55860c03-3378-4129-92ae-7e560cfc0577&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L6/mood_greet-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L6/mood_greet-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:885,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: I am feeling very good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af75f227-39c2-4efa-b5cd-4a33131fd57d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L6/mood_greet-L7&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L6/mood_greet-L7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:696,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: I am great\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e629bcb1-2db9-4575-b700-5c82f7383dca&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/happy_path.convo.txt/greet-L6/mood_greet-L8&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/happy_path.convo.txt/greet-L6/mood_greet-L8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:750,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: I&#x27;m good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5dd6883-d361-46ad-a907-94d368c3a62d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d2a4a49-b676-4d0b-8fca-1db4d71f89e7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1192,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bc725af-94ac-4354-9efd-0e01ae38cdde&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1027,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ad1aa75-0c85-4b00-80c0-d784bd78bac0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef957a8a-4edb-46ca-8c60-f4995951e325&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd9ed4ff-edb9-4da2-81a9-a8c07addc8e5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1350,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec53776a-69e8-4c21-8d55-cd59120879bc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab4858a4-ff74-4a91-8a01-b39ed18c073d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1050,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;494b3af7-0e75-4d67-9682-86ab0fae9c17&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1158,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5748518-fd8d-463d-9a19-aa4ffe9a2add&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d47af50a-91d2-4200-9bfd-05fc93b4d986&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9141a926-9a89-4d0f-8a01-4e0e8feb7b20&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc4376db-9f9b-47ac-9cd1-d28397e93f38&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1079,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c870ac48-4094-488a-8919-60ca7b8dc11f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aeda3176-7c42-46cb-808e-78d4c99cf332&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5108de9-78a3-48b7-a528-bb7d8ebf5787&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b3c90ed-69cf-4638-acda-d473d2d94d85&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1043,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0362723-b39e-4da0-83f0-c0610861c777&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8c94763-e569-412f-85d3-be6081187eab&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1012,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e83d902-7d2f-47bd-ba1b-d95779c54b1e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1152,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47e432a9-7bb7-46e5-8ac1-0f22ce7272de&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1122,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54f16e28-3792-4fc4-81cc-a73c8ebc7553&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1086,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42d58901-13be-430f-9673-9d49efc4ba0a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb829485-f82c-48ae-9d82-c9a9fa494a42&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1157,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9428509c-67b9-4718-acd5-6d53cfb00975&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1289,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;873f96ea-a455-46cf-8155-48dbbc61a711&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1096,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f09086ee-eada-49e8-8fe2-e7179c9d007e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1093,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;106e3636-14e1-417f-9459-af061f1e22ef&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1172,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f806212-a152-4e94-b41f-5f9cbc894bee&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1069,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa9305fd-8b7b-468e-af1e-1a8a81a14ff6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f33b5c1e-aa22-4458-947a-d03cfccc4ba2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1069,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f028975a-e51b-4cac-8b93-70236c11013f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1106,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14fd3092-9414-466e-bf9f-0d8755fdc51e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5c3e94b-a735-44cd-8309-8b16f38a47fb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa4e07e6-0021-403e-a944-fcefed99e304&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1076,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f73fb7db-da27-4787-a287-735721a03858&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1158,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7df03893-834f-45f3-8821-bb7e6c79edbb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a09898f-8e9e-48d5-af3d-3a32951c5403&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1063,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5acecccb-b880-4603-aa9f-81e67d3b13e0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39c81395-c6c4-4d96-a27f-3d88a72c598e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2f3323e-34d6-41af-b263-49bdbd85b3ed&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1156,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b694bba7-3d27-433d-88d4-e1b3b1bb4352&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4eca24e-9b98-44b1-8906-05586b508ae3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96c296f1-4022-4175-9a6f-2b610c4edf2f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1062,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ff2476a-9dea-4412-bff6-a06ab78a79a7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1261,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b1d4514-e2d2-4fa6-800d-b8da7c0ad77b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1198,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4696cea0-7e17-499a-8075-4b76e7eb1eaf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:993,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8299f12-e3a5-4e98-bfd9-0d2557a3c74b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1174,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb1f5a42-f05f-4ca6-bb24-43e980f6a3ed&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1122,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86188cdf-e4a2-4dee-803d-d268242486f2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;061892e7-07a8-4df2-b407-be45fe5ddf0f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45da79f3-d71a-4909-a1bb-bc9dd5c64804&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4c6f3ea-e889-40de-99c0-e1cb518ce1a2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1130,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75e25105-fb7e-49dd-b7ce-2671f09628f8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d36934e5-d67e-4f61-8554-d1994e5f5b19&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1059,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67013a09-a6cb-43bb-9080-6cc6b5621233&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1159,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3985f1b2-88fe-410d-a789-3b224b586d44&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1123,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9106ba8c-e908-4b4d-b303-89c408b4591e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1225,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4118de69-6bea-4327-b304-d4da2e541cfa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1018,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4529c116-2bfe-48d0-a967-eb5bae66439a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84432263-e929-4517-9e42-6dd7206190f3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1095,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9dad4a13-7eef-44fa-a678-0b79351ccf26&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1175,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75ebb140-3913-4bfa-a48f-60febf84f94b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1080,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0d432a4-3c0a-47e2-ba9c-03cad25c1a9b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81b2b28c-d07c-46c9-9405-8431bb49bf92&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29e9d02a-0fb1-4b58-81c1-d72cf164b48e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1152,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05927ef4-3071-4bae-b8b1-920cb3cdf3be&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1074,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0485a8a-72de-4ed2-9416-6d335481b2ee&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d627029-ad15-4671-944b-a31a26005a36&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1297,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e4be65e-ee59-421e-9014-243b5b2c00b5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1001,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88c674c9-7a2c-4f90-9962-1b2a3cf12190&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f66cb43-7bb0-4b63-97bf-cd1c8b25acc5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8d4f0c0-9547-4a0b-a49c-027820f6396b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1208,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;251a0eab-2736-421d-b67b-f235ee70d226&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b09c4ec3-81fa-4a52-8157-c5979927a80f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1069,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9f06b5a-ae02-4cd0-9fb4-4de24c17a95e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e55f159-6cb8-4916-b1fb-cb0381aacefa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15de972e-b3ee-4053-8309-4a398664374b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1084,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a043a71-e840-4912-9dd1-ad7e108bff52&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1084,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f12d72ae-2a44-4807-8d9c-6d5174b4b6cb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2637f7e-42c7-49d7-84f3-752d93342820&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1196,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d144a14e-b45d-4e58-b5af-584f0657b552&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5ce5bd1-8a82-4494-91be-f349ac7e2a9d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1206,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2cf4d5d-d752-4b44-9e24-9a6f39b8e4c7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;294505dd-7634-44f9-862f-93b3e91021bd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1088,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;204d080e-2ef5-4d13-ae00-fa2a92612204&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4844f68-1f4f-4084-a148-60f50394aa15&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1271,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d79ad18-4014-49e6-9773-15ede1099639&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1011,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec7d8fe2-2306-4733-8ba6-860f468197ef&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1223,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa8b495f-a389-462a-b332-990720016b7d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1066,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;870dc29b-10a0-4bd3-a1b1-43130aa8d14a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1076,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f085ada7-ab2c-4eb2-ac10-e7a0e9d7f7ba&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d222d379-e1d7-45c7-a512-7ac75b1789ea&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e1d53b9-64c2-4ee0-99f1-ba9d874baaad&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1106,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8971221-e1f2-4192-a352-dff061f1c0a1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5b26f5e-4819-4de2-8102-9cf53d8f0660&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2e3d91c-ee5c-4c2b-a1f8-b8e9097f282e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1151,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a5865d8-20e7-456c-86c3-e17614c95c00&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1065,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0775ea7f-8a0b-46b7-99b3-46a7fd8f41b3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1216,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9fcd7a7-d5a7-435e-9860-b26c66a42240&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;771c06fd-e7f0-4fdc-8d59-e9471e20da0a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;815562d1-49f7-43de-8e8c-103493d9d563&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3c0b29e-225b-48fe-b6db-0db1700c203b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1199,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;def93b23-e7a1-4694-b087-97b7fb5f2403&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1003,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c8b5277-ffe1-4507-93aa-4c2a2b23fb09&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1154,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18317d3e-2475-4ad4-8aee-22163c941843&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df2a06a8-414f-4d16-8cf2-f952e340a2a9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1080,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5244c96c-2d23-4638-9c87-948c6bc64bce&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1152,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b862bee9-bed5-4198-b3e0-14ce3bc6bfa2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20b72682-3ced-47c1-acd9-7079a17a4add&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1184,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8511bca-e714-42c5-b0ec-1b6b8d9a1064&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:991,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bceb4245-d7cc-4bb1-9d45-5f1e05dff39d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1148,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3acd8cd8-070a-4682-9fe7-bc7fb41a8518&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cad408f9-cf1c-44b4-bb3e-d974e4d94b38&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1161,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad741964-4058-478b-8612-2965e1d184ce&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1188,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c29caffa-3ebf-4215-94e0-8b671d5a3707&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a22996a0-8ac0-494a-8b94-4f8b4ecab9e8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1086,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc69a290-c66d-4611-ab12-7481b04058cc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1160,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfc688fd-9b6b-45c5-a39d-5c9c91a4d2a1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;883d0580-ed0a-4c8e-a8ef-5a66daf1d945&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_14322.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;508d3941-b5e4-4ab3-af36-a75c84d52331&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1068,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cac310fa-4418-45a0-bdc5-93a07ad33686&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1174,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f06f50c-ddaa-4982-954c-7203e22a6794&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c392f944-52df-474b-9160-8b7d34beb17e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1093,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f770435f-6aff-44b2-8040-1e947acd479a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1215,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a99d132-5d76-46f2-94e6-583fc1894f8c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:979,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ac37534-1dae-481f-bc38-2a403b17d2e8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1158,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39924854-7b17-45e0-af1d-4049fd38797f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1239,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee6e9c36-0855-404c-a357-8afcf76378f9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1012,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76cdc879-d57b-4681-9b99-47cdf5fc9d5b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd0a981d-ecd9-441f-b1a9-1bdb47ae075e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc99bb3d-b44d-4f1d-838a-c29f9b9a08b8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1124,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b59ece2b-9574-43c8-8cd0-d0fdb8d95e4e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b27c7b7f-7533-424c-9e2e-b523db229828&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e569f59-e671-4c80-a916-361b58e96ceb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1228,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5dfa65e-23be-4690-b43f-bc551f03e4d6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1032,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afe20b49-6bed-49ad-98f1-6242b1731969&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6d750ce-d3b6-40ad-b619-12bdbc8b84c0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1187,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b96919af-0b5c-4a06-9c55-e1bf42e50950&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1071,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;651c2573-e285-45f7-a9df-5e2973df0c7f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e32ff2e4-a502-4abc-af74-977ea377b9a6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43af1fbd-d092-4d19-b631-70d433eede1e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac053869-36f3-4bdb-a2ca-dcf74996899d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1133,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79cc58e0-1869-44cb-9c6a-5840ecc3cfb2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1215,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20f38a5d-311e-450a-b3f5-5dbb47a06150&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1034,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68e67bbb-1205-423a-9b40-ba1c419b2ce3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9022e9b7-9335-47fb-8453-badda9c29ded&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40c5bccb-4907-438a-a36a-d30b5ff874fe&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1077,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2412e94-577f-49b2-88a3-950623a00427&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1163,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;629125b2-7e3c-4a86-bd34-52e587375fe3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1082,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95430444-1a93-4106-ab7d-792de29a5755&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ffd8b9b-8bd5-4fe3-82c7-2831dc8faa56&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b9c8246-1fd1-4e2a-83e0-db1d89055fe6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1130,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d6dea99-a4ad-4bf6-b7f7-6e7600b8e1d2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93d65428-3389-4f9b-b279-63d586d2afa4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56c8f60f-4048-4b5f-a2cb-34e9cac8fb4a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1245,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b72b21d3-8848-4e83-8ad3-95dfd84607ef&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1059,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8950e66-8b4e-4d23-9d59-d54551e99575&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1288,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c312ea2c-b803-45da-bdf5-4ea8a052643b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1004,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;784e7812-22fc-433e-8b29-c330d60f3304&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1122,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc8dc0bd-4f65-4bb4-b1be-db3c36dd007c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1211,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0f840a5-0392-4f60-bbae-89d64c18eeab&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;570d6553-3f94-412e-a071-c1eee305cbf1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c95d97a4-18a9-424b-a153-b3c64b9f103e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b1914a9-1442-42ed-9040-48233459bbbf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1219,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b84cdecb-9fcc-4942-b317-0525b2d20af6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1038,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88ebf997-ec60-46e1-87af-ad7dfe80e42e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1074,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c903e46-86d7-4b93-b180-034a0e68bb4b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1233,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c650308-76b5-4309-9120-2b3eb4f5c2a0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1064,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d51676cf-a170-4eeb-ac0d-1880e2ac9741&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1161,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c413af37-0884-48ef-9b00-dece6ba91cbf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68e8b695-9cfe-4321-9e23-57c1b8aa8992&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd7a2017-fe64-41c7-920f-7bf7bf4841c3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d6c9772-ce6b-43d7-9097-bd095457e9e1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1237,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cba6d59c-91e2-4e66-8403-a43b60c1e0e0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:976,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36607814-448d-4681-801b-aa2bb1670d89&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6530a26e-1b05-42f8-a381-ec271a88a162&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28921c47-5149-4091-b0de-cabda3b90136&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1287,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f534320-289b-4d77-bae8-45b26a2e81e9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec5d53dd-076c-4d13-b5ab-8faec8e52d28&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:993,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5d919cf-f606-4946-995c-9aa7aa04d3e4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5af20a2-acbb-4798-9e57-aac68929228b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1149,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3f6c2fa-c318-463d-8beb-911542ed0276&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0dcb6aa6-e0d4-45b1-a4f6-c39a482c75d5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1084,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fb7cdbd-00e7-4fb6-a5b7-cea80911b49e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1273,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e751f442-736f-4114-ab34-0b709930291b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;232c8b3c-0d10-4389-8dba-152520ce51d2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1029,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2ab0a3b-f13b-4967-b39c-deac777fc037&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df70e739-673f-4340-af72-a9fb06661015&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1163,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d25afd43-ee7b-4077-8bfb-7dbfcae49e95&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1205,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa19ab08-7e26-4a4f-9e46-e3844ca3fdb4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:989,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ae8f333-75e5-4bfd-a5e4-261b6f047a9c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1143,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0249bc9-a14c-4c03-b482-aec07113c8e7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1123,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;629fc33d-3aee-42d0-9384-5ea2e349601d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1096,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18a3cc4c-2ebc-41b2-b74b-215cdaae111f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d30840f1-b1cf-4e23-9165-e3f4e98c06ca&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64566530-97e7-4037-8c3e-a7c5414efe5b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1154,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ad52e47-ed4f-425c-b673-1d2d0f569b25&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2462914-898e-45dc-ac68-7739ac1a4357&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1057460a-24d7-416b-844e-fe12937906a4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1223,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16235454-43fb-4bf4-a9ec-1b545d295021&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1037,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04dd7481-092c-446c-8489-ea24f6c1fc05&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1085,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;239d7010-d4e0-4b2c-81be-85c6460193ac&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57b4d605-dc1e-47cd-80b2-c5e3ef3d2b6f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;487a5c1d-1d48-4f52-9af1-e54661a129fa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1041,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b3f5f3f-7be6-4697-ac64-ab16f1ffb6f9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1252,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ede07d5d-e247-4256-8adc-19dbe8d6ad0e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1050,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5785f32-e197-4439-8acf-5aaf6f1cbc40&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c777dac0-0849-41e8-94fd-25d0cb237276&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1225,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a65d3128-5e02-4291-abf5-2027af563f4d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1019,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca76fd58-1409-4732-b28b-726fe7bee14c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d865545-9946-4e3f-ac91-c13e1973a2e4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d098c3b2-65de-4fde-814d-5110c8cdfcd3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79ea271c-163b-46c8-a1cb-bf0175a7938e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1187,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f8d9197-8295-4c14-b34c-a5c793188c95&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29d0d1ac-dfa5-4592-8a5d-1868e021bac7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3b86382-932d-4df6-9170-aa768777c282&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1192,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6715e02-085f-41fc-8f66-7f4902998fa9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb136bae-9041-4f30-bba7-17a4af1ef2b3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1096,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c9fb93a-e37a-4139-b433-c0fbc3314847&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;973df2a8-1a26-4bb4-b970-2cc4c779db8d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8856162b-7850-4db5-9914-d152b75fcc6a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1133,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37f50a47-749e-4fa3-a46c-cfcdaff9461b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1135,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f2f7293-bb1e-4e1b-ab8d-d0dbbc15ea18&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1205,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1addd8a6-d70f-4157-9419-08b329c2bb24&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:985,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21a099b0-fda0-47b9-b13a-c3ac66097d58&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1135,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85dcac99-e364-4eb2-a644-f330c73bcee7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1218,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d32d79e-a704-421a-8f1e-798dd917a931&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1184,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77d6040a-7e96-4def-a79a-22562ed8790f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1148,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18a220b8-6f40-440f-b791-a3dc119ab03b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1082,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;739804c9-e93f-463d-9493-90642b49b01a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1289,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7a57c82-854b-4c65-a460-ee68139fd26a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:992,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27b3b96e-e1b5-43e6-9e9a-74d75b4229ed&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1275,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1e352b2-1b49-46c1-b31c-6509ad8c1658&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1068,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3efaf480-e962-4656-90bc-6c5130e4ee5f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1235,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3d95a2c-ac0f-4106-a8e4-d124ffb023fa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ecc42ad9-6cf3-442a-905f-ae6c861ac924&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58239fb7-a7a8-4f7d-8725-94aa665950b4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1053,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;800ecdd0-c6c2-4ec7-9b4b-6c10815ec836&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44e76f0a-f68b-4173-94ec-c3473b9743db&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_16532.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1220,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;415cb278-365c-4a27-9776-7ab471ffb4b3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1009,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffe95ffe-9496-4190-b6d2-d7fbd04763ad&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1124,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;163429ef-ec0a-4c32-a3c1-6cb72215a29f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1188,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8f1e9b9-c1ac-474a-a08d-39d9ccbaecd5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1102,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92385520-a557-497f-8753-e010b0945a65&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6b18bbd-3398-4f00-b5ad-7c820d67e9e1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1239,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1022efc-5f04-4dff-b5fc-7d16d9e5e12b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1052,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c7907b2-5040-42b6-a760-70554ea2997e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1072,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b05eaa43-22ca-4cd0-8d3b-000c62b9c6f2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1158,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d66294e-c875-4da9-81ff-a369a3a390fc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b4ff9f2-c5d7-4dd4-aa15-14967961f5f0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1143,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1766b089-411a-4cd7-86a4-1a98f6625841&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10881310-8e09-45dd-b45d-31922182bbc2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee8a4687-5456-492a-a578-64f5978b96c8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1156,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69ab4205-32a2-4234-b8ba-4513b30dbe36&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1188,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f91ebcbd-26e7-4c8a-bc72-575ee0a418d9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:998,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17c9668f-4dc3-411e-95db-4829f39bc963&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1164,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48fef604-0f5f-42ce-ae93-6caca626f4d6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7283f519-32dc-4f5d-8ee7-0ef6e3a4b454&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b43c51b-b7ee-4c6c-b2c2-1fd2df368b2c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1203,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8130f286-e155-4cfb-bb81-ebf6dc349465&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1055,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfc781e3-ec64-4bc5-a1d5-026c8b8393a1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be944789-0d4f-4dc6-819f-eee055c7b99f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1066,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47317787-ea7c-4cb8-92b6-1159794c5150&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1148,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;866d0ae7-e061-4fde-a116-53148f359889&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e84c7771-efa5-4c19-afc6-9e8b82454a2a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ab9ef2c-3188-40d5-8c9a-b9b69841be89&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e60ef47f-1a95-439c-9334-3e9714632b91&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1160,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5809a1b8-e2c1-4f21-a15c-425b95560a29&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1211,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16a005be-d3cd-4236-a2a0-c38c7b4de526&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1016,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;790a11bd-1baf-429b-a2d3-8197dbc9be98&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f3dd75c-1081-4e77-bea1-c2b034e9c5f0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1079,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e75e3075-b15a-4d20-bb01-d13867bdec2f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d847f943-12b7-414c-a96f-8b07fe5b0422&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1148,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;016e4787-fadf-44c0-bef5-947028fb8aad&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d072d0a0-43c2-44f5-aa3b-9daa1051d614&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1106,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3090cce-b5da-4b0d-8a0c-9f9f725d3c9c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5493e115-b7fa-4015-a685-6aedc88672f8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3761e0b9-5850-4e96-a17d-781033549e3e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8006fcb0-c4bd-49f0-a657-32c948ec1c7b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1213,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d440c93-6803-49d2-bc0a-5f086065e265&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1077,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2922c3dc-4225-4e44-ac60-d96d9bb36b78&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1169,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;376e987f-e135-4f91-87a2-2bdde660c7c4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab0f8b8d-17dc-4cb4-b43c-4f0aa3c17adb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1139,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8caa195d-4369-41a3-ad5e-64ac87e8e414&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43bb6b99-40a3-48d6-9ce7-173f275010b6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1143,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a64e9509-39c4-421d-b3a9-82ca7baa7eb7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1183,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b8a3885-39be-41bc-b8dd-e1742cf6cd98&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1036,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d637c233-afcf-446d-ba80-04e53f376e9c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65d08055-d524-4f50-95fb-82f29216053a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1133,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76356ac5-2c9c-42c1-baa9-255f83cb7824&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1087,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2818ac85-fe6b-4ecc-a5c0-56b08654cc97&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1234,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;538b47cd-354d-4413-9bc7-90b0a5aae509&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6174d41-e91a-4fec-b252-abcf28c5fa95&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1130,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ecaf68f3-8483-468b-b480-da8df16fd352&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fc86be7-0583-42de-b7e3-e4423bb007e8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57cc7255-654e-4b3c-836d-ae0f7d740dcc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1159,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb28d406-5414-48f1-8b79-8bf9dc9a0d19&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1285,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;469fc491-af89-40c1-afa6-c678453953a3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1038,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c16dbf3-9895-493f-9e5b-ed08af4d0874&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3c2c3f2-3cd5-4f37-a7c7-a1efa860fdcd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1acc3314-25dc-4d7d-b110-373826db635e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b91a515d-1bbb-4751-97f9-ecc18ff96241&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1084,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e4846ad-db5b-4a7d-9871-4216d1e34538&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1192,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1efd700c-320f-4ecc-805a-ed3f84f492fa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1207,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f94fbeaf-14ca-49c7-adc8-afb94f65e808&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1240,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3fb870c-9dee-4121-89cd-18b92990c19c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1169,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5963fb44-f9fd-4bc9-a620-d5701d24a15f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;989eb301-ad74-4eed-921a-01ff40e04079&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e6a371d-6eb7-4f65-bd1e-a9d8c26c87c9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1143,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f6e485b-a463-4197-bec0-e9361e8b720c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c62efa34-b028-4e6d-b386-073fc96e2fa2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da0ab921-5d94-42b3-8f38-2bc333a6b7b9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1140,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb7b1845-4b17-4835-84ca-32e05976fd8c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f985d83-05a1-4828-97d5-143f7dd0bd7e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6618273f-8df3-4fd3-89e9-4eff662c4d8c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f49998c3-33e8-406a-8492-411059075c89&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e856df85-7c3b-49dd-b114-3ca1e2f86df2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c7b2d9e-ec33-4ebd-a3af-439dadc97d30&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b03c0587-2825-41d4-8bf6-a4a8caf246f0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b4287aa-a29d-4c9a-bd2f-d04fc0598b72&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02471732-c35c-4fe9-9251-1f1cf3d500d5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1096,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce60e6aa-2695-4403-9d08-9886e92f7bf1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1289,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd5ac04f-9803-45cc-9662-704d140b4207&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1041,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3035272d-7819-4c4b-9c93-2f73c796b3e9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c39c781-635e-4840-b0bd-29476ae166de&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c96752d-d386-4309-84c3-e822ac500505&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6573471-208a-45c7-96db-3663e3b43e7d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1139,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43855174-a7a8-4ccb-b4da-845c4f868178&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e80566a-909f-49dd-8e1a-8270000d4e3a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1135,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ad63730-fc23-4ed1-9e99-996f64f9a0c1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1122,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a67e5559-73ca-4e21-97f8-98ccb5d0fdbe&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebe0dbbb-d996-4101-ac1a-e70f81b83fe5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1222,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9d78aad-0c61-4016-91cc-6d47007ec5b5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1106,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd0f7332-38d7-4fc9-b101-19ecec2b6e9a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68ab9286-cdb9-49b3-90d2-16e4c7d7831c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66ff92ff-05c9-4158-b405-cad759e75788&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2eefce7-da2a-44f3-96da-25575525029a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2daea7b4-389b-492c-8398-3590cc2b3b0e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc10bb73-76c1-4cc1-9235-2cdb05bd6ada&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1201,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6aeb0a49-e18f-48e2-a08a-b99fe9192ae6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1109,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17e9196f-436e-492c-ba5e-1e7ae12ef81c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1247,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;851d51aa-8e6d-4533-934a-2907c47af962&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1038,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24972bc7-7d7e-40a5-8255-f0dd4b729dda&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67b19af3-1952-434c-af9f-b2b58476daf2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d77e7df1-eeb9-42be-bbd8-5fa6a261020f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1229,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;489bd458-ffe0-4e72-a4f4-d55b028d8424&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1039,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb8c1528-9ee1-4977-9dfc-cadfcc06ebe5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1195,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f492ea1-850e-450c-b6ce-35662b112740&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1088,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb55e1a0-c7aa-4bb5-9c7a-48e8805db1a1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1102,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;229e32c2-ebd6-49ee-a81c-cfb0643c7ea1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1168,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31e81610-56b7-452e-a4e7-587ed4eb4052&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e028e7df-c7a3-4900-a22a-e93f0cacef57&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31781291-82df-4f72-bdad-738136352bca&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1233,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb607f3a-8f79-45f8-8473-107ebc8ba2d9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78459917-c729-434d-a0bd-28a69ae4c870&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;511a0358-7a3b-40fd-bf7d-6f2028a13eca&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1085,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f9ea5e6-d166-4c87-9f33-5a4f71d9fd65&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1158,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6ee0cd9-fc04-4b6f-9a4e-5ea1125ca5df&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9adfcf6-5cdf-4970-a28f-9b9ca0d64a4d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1654.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4b0d690-6e52-418c-9db9-ccecf8892407&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1071,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c4c2c67-1d36-4797-a406-fe2ea090170c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1080,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9056b4e-ec7c-4906-bb1f-f2bb40fd2378&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aafa5d5f-6fd5-4561-adec-4e58e3c9eb78&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1195,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b929ab25-9184-4794-ac4c-9afa79f86ead&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c10f4d45-b7d1-4635-8dc1-7dc80a2fde73&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf4024ec-1f34-4a65-9035-9bdac5781a95&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a26e482-3f07-4070-baed-0b1584a07ff5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1159,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2396c2a3-a270-4048-8f56-f25e5a862fbd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a068d49f-9584-43d2-9be5-49d42b3b3964&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae38e3b2-9e60-4166-b118-fc0b56ae1f3d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66415899-ff08-4cb7-8632-58096e697e85&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1140,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca0f167a-7e37-438c-aca7-087a2f1265fd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1143,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fbae84e5-184d-4d41-a149-93d717315924&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1193,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47bfe101-c6fd-43cd-9523-269dcc4f7b5a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cf1a401-01e5-4fcf-bf00-035af48a233f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1263,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;323e8008-0868-4584-8b11-52b3579b6af3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1066,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4076103a-cb54-4c64-a1a8-1bf28f979ee6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1171,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2644589-ce01-4a21-882e-d2fee16ca7cd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1016,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56c152af-eae0-4701-8ea7-ba708ccb2cb4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d7438fd-e504-41ff-a3d5-baab89745752&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10949419-55d1-4f89-a468-e014c2ec872c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bca79e5d-6c84-4f0f-b145-2af4854c4bb4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1224,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63f773d8-d8b9-4a96-98d8-b2654fc35e0a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1039,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f26a6a1c-e0fe-41a8-ac75-68f0e83cb001&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1140,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36fa019c-5b51-4f71-a73d-45d606894069&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1038,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11a2ea4e-9857-4e8c-9652-0e82df1882e2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fe06321-fe8a-400f-bb92-2091faaa5b3c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43210711-8d5e-4e36-b528-0423ba3d890b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c726d8b8-7fbf-4de7-8378-96f6b6879a4d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8071059-9b91-42d6-9ebe-a97c0f679ce1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1157,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d239e895-8e64-462f-b132-af9e18885dc4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1084,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15586aa8-fd86-46cc-8b21-7cbc321247ab&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca0f8f41-a4fa-4b02-8de4-e26598196257&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d079414f-8676-4e9d-87fa-37c64bc9761c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1659d09e-2bba-40dc-be7a-69f58d0c9973&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1282,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f43bb01-ea1a-4a56-b8ef-76797ece1a58&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1050,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7626f566-1c9c-486e-9b1c-79a1a4f3d6da&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5449885f-5936-43dc-9485-63f904b38477&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;884f829a-5e0f-422f-94b4-853f8969b791&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd80f3dd-3a58-4edc-bb6c-a91224f4841a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76122f33-975d-4f27-85fc-87d6d18e697f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3187fb02-9226-4621-8552-4b4ddb0dbdff&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1068,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e58e5e19-f9c9-41d3-8957-cef1427acbdd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1253,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30faed64-22f2-47d4-9149-bbe1eee4ea83&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c80a872-3151-43bc-bf75-c9a7cf81cc3e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4c6b09a-dd04-4c69-bd46-b60c80b4afe6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06dde418-b432-424f-9ce7-9ceeb395ee1c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fda6ccd5-8ec2-4d7b-a345-9c8481ac7d3a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1030,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;559c1cfd-dd70-44af-8afc-1861ce165973&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f18b526e-04a5-4571-b447-0b65f636053a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0136d3f2-fe14-4d40-b542-bf69085fe3c9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e6ccc00-aadd-45d9-a39c-d2eada07f09a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57459120-7a6d-495b-a2c1-bd4361abdd03&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84ed2583-d33d-47d4-9031-d59c4539158c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;774dba30-9306-447d-a2ac-f178d35663c3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56df8a5f-0ace-47ac-a806-fdba9ca34566&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed48512d-ab0e-41cc-a3ce-0abb653bc187&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8508e801-942b-4316-8b6b-0e99baa6f429&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1155,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ecee450-d7c3-4829-90ca-7b0561f7071e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;172c6823-000c-4ca2-bfde-1154cae294ae&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1078,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef3d3596-edd5-4ed7-9331-a935f19b3676&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1148,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c57da43f-1a20-41ac-8690-6ed3ef6770f4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ded7565-9389-4d64-bee9-c94ad49dca42&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1140,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70060995-fee1-4229-9724-45117a51dfb5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1163,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50ebc7c3-36a7-485b-86de-b1218d8311cf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a17d9b90-5100-4794-8e1e-5769db8f9ab0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1124,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bfc30c0-f08e-4bbd-8ab6-73f5fa27a99a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1249,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4bd88a6-634f-4614-b856-bfac7310b3b5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1058,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba5ca531-44fb-4609-8f88-a79f4fce6f29&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d649c88-1ba3-4d68-8eac-3e68b609597a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1109,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5eec159a-0827-4195-8d9e-b8bd1d560b3b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1265,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaeb7a75-4b6a-4bc5-b18b-78dc2afb2a31&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1027,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;daf11222-6fa2-48c8-9b58-057e6805b90b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13e00d75-52f8-412d-b5e7-192d87d30e5c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1211,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6316ca99-bdae-4bc1-8e51-486c251d624b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9da3392-1c26-4c83-96f4-77552183b1f2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1079,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a7eab86-b61c-40ef-b496-907da828a72c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58b9d51f-3963-4ee3-a251-72b4fae7aa8e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1202,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec9bcc00-4ebd-4a78-8d72-510086fde7da&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1093,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c15886c4-4331-4d7e-a928-955d2ab5453c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae4ff489-e087-4788-b1e7-1e345b2d35da&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c29d97cb-5279-4b91-b736-15abc8ea8de1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1203,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1cb7c702-ff4b-4756-8785-7bff3396d08c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;092148d6-cb14-429e-b4bb-3ad9517657e4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;480944d3-f5f5-44de-8566-213c3c68aefa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1150,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe64a207-7fa7-493e-82ee-980346f86c83&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57308752-6dda-4d2a-a49c-143a7f4ebaa3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;699a83ae-4f9e-4f1a-8721-dbae8c8f10f7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2526f1f-96f4-476c-be09-c2cdf0326939&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d999b724-6969-43e9-a880-01aaf425157d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1301,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;154f559e-cbf2-4dee-a5cd-dfe5382a1f18&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1030,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b415a27b-14bf-48c6-a4c7-72cb1fe9a9b2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86e8bfb0-0de8-4e9e-9651-49614b783645&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1095,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d426d647-9a93-4e63-8d81-c1dc1b614ee3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c476a88-7979-47bf-b936-cc3669dca9b3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e9827f9-d34c-4964-9463-7588a3dd5a9c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;569aff07-ef0d-4ae1-987e-37d62d9f1864&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c87a8548-f5b5-42d1-9758-54eba7e4b5e2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0318ca97-4374-4be4-bcc6-3afd3bc2eb0e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1294,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5807799-6101-4614-a083-d68bc0bc89ee&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:985,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad6c17c1-cbe6-49c1-8bd5-7e1374faf3c3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e01a874-51e9-4130-9f61-eb68eb00d83e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1a8ee0a-5d24-4dba-9e6c-185f3a7e3f17&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1294,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92f4ce26-a3a0-4af2-8139-7d9a61cde9a6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1005,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17163751-22fc-454f-b201-af289fbc748a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1138,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c9520d3-f22c-4365-b396-7c878e26a645&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1161,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d70dfa1d-707c-4bc3-b2d6-35dc8252d8cb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1122,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd94643e-dc6f-4a16-8a83-d94158cef648&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dffc837a-59c1-4416-a1df-9f6daa1cfeee&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1074,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52a959c6-cf50-4639-ab46-e168792dfb12&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e634fc67-5982-477c-aac7-aaab7cd8f9fd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a0e13c9-188d-40f4-8eda-3097f70dde51&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14f3d401-a254-42e4-aa3b-495d1451d538&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1219,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ac81167-f83e-4a9c-a479-c1cfa1bc7082&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1088,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16736212-d7dd-491b-bedc-afda508d5df2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1208,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f38f0239-bb87-45e9-8916-6ede5b5d9de9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1025,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ded775a-a83e-4e52-9779-0c90750af15c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73a8469c-9e84-4cf1-89d4-f4f21a56c223&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bbc5e60-c81f-4088-8508-ea67f9a056c9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_1698.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1075,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ded03128-44b4-4942-895c-2f49765b5c26&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1158,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ffd8df7-2902-4c83-933e-4c7ca2300aff&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;339d9843-bde1-4520-855c-bbbe01ab6fc8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9844db5f-9394-4deb-99aa-e8393433cab3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c36ca1e4-0676-4e6c-afb0-85bb80972d7d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1286,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fae4a426-4f61-49e3-a74c-4524f61a5ec1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1002,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73493ab4-8b87-4ecd-921e-be557939341b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96124821-245e-434a-a3b0-ebff5b69e5fd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1072,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92796cb0-1b11-42f5-8d01-01a343204ed8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1135,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0621c13a-bf6c-4c98-a3d5-905310ddac3d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ce74de0-706a-4a3a-8ee4-a316f447c629&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1222,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56bb36e2-50f4-4470-b6a3-4b59c67577e6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;404bde09-4a0b-4b67-aaf7-0269383df5d8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1133,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;740a3c34-8697-478c-9e8e-a7d2eade4973&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa72159d-9a95-4219-9fc0-b27b832fc1a7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;446ed213-28cd-4a3d-afa6-af74452958a0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e22cd8f2-058f-4bb0-9605-086fe4d02947&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1139,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f037ce1-b1ec-4618-a378-fde37fd00085&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1068,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8c99f67-5e53-4ee6-8e01-3e45c79c5ebc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f8540b6-a11a-4ba8-8202-8cbb554a2622&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L1/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74f84506-6886-4c00-9111-e5b28b4315ae&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1123,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df917bf6-da0a-45fb-8e54-084fb4bbea9d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6981769b-2a15-4009-bcd1-52cf16e4d8c1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1095,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8880860-6de2-48ed-9585-b7ce536d9cc8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4110076c-c5a9-4667-9a50-123271f41680&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1089,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a611a999-ee41-4137-a10b-436dc49f5bee&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41da55ee-7ee1-44f7-a1b0-e020b220d07c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f1a1c2a-c32d-4e61-8b95-907b3d4ad404&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2382e813-0c1a-4917-98f8-cb125f70731b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1284,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9213cd6-510e-4e57-8760-f71298989f9f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1023,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25f0ba6f-5551-4e81-b4fb-a0f5680db12d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b07a81f-ef0f-4f4d-b677-88c232e16d43&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1304,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9de6b5e-3d10-43fb-a95d-ef76e67dac6a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e63b2f1c-46dc-484b-8cd4-596339fe8b10&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1036,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97465b7d-8ac4-41f5-9063-39abae549df0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1095,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73df972c-e2b3-439b-9344-aae16376aa11&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1067,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f9e5e62-e591-4855-b316-41b32e1a200f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00822448-f734-40ed-ae2a-1a9a8d0744ce&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1124,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f9573c7-9210-4c78-869c-ac4f162495aa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98599eb7-ec7f-443f-8306-02dc100ca318&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L2/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1153,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5391c31f-c7b4-45a4-a5db-db5971fded70&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1201,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a85f2def-47f7-4a9d-ab7f-c3bb53db7e0f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1026,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e00fb85b-3012-4802-87a0-7d1350415a54&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1175,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8e03b7a-da98-4cba-8bce-d019fa36b16d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1233,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da377711-c22a-4fd5-83fd-27a93c3eddd8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1030,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e90bf395-aa3c-44a8-81f7-8b2441e29197&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;822e6a41-3ed4-4d51-ac52-37abf71348a7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d765e7b-6037-4efc-9a13-c2546c3806ba&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1194,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ca280da-cffa-41d5-893d-9b808fb7c210&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1096,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a3e4a4d-9283-4c23-b556-ddc02245b82a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1109,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03363226-1760-4681-a818-fa7a2f3e1986&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1316,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60aefebf-08d5-432f-9575-53ad7edbb6b1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:990,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9d40f8b-cb89-4e75-8701-f0f0bb103a7c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a0d41d6-61e1-4796-97f4-cd13da43b328&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3449eaf-afdc-42ba-aaed-430a2e2df3df&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac9ea99e-b7ab-4dd2-904d-c6f25f49fe15&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;733d7d1f-ec82-4986-aeb0-e65f9a234693&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1067,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aab7a113-531b-49d0-834d-b27e89d1734d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1187,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;368482c5-3d38-4edd-af73-807b5ad46f72&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cae2c8c3-bbc4-4252-9447-25276eaa0d04&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L3/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bd2122f-0653-4c47-97e5-a8e71caaf5cf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1123,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9aa914ee-fc7e-49c8-9010-4ff09d685e04&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa4f1b4a-ea97-494e-9439-4185fc0bf674&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc6a7c98-e0e0-4a4f-9996-abcb43545d8c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0e6eb4b-f3d7-446b-b94c-b46b75beee55&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a35805a-8342-4f09-91a0-1118cdb8c1d4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;217ffdd0-874e-45a3-ab66-e1cd798e55c1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7139ac15-f5b4-4705-a173-422297bc51f0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1285,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b36d1c64-1440-4bf1-9a8e-d01c213bb00f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1004,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;283d12d7-a532-4e42-9549-a3f27ad9f05b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1165,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29afa2ec-9e79-4a22-9da8-3164e5083a10&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d647928-ff6c-4dd0-8db0-d97c9ed6d4c3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a958499-280a-46dd-852c-a29f0c0f9040&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46957a02-5d7d-4cfd-8f83-5cf3bc430cc7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1143,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6293add3-1ccb-4af3-99f1-9b952911b37a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1176,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35483b59-25cb-4991-9d44-2deb72e479dc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1051,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fd6e8ce-5392-42d6-a44d-5be66e9604a6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1090,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fa1ff9a-938f-4ec6-8090-a71156151822&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1254,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;015d8747-772d-4011-8067-42c06859ca86&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1055,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;419af8ec-9dc8-4f22-bd29-89407389cd4d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L4/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91dd2db6-6f4d-49be-a4d6-d2bc7a9c6eea&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;436e0006-0577-4362-bbb3-87ae14858777&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6588fc0b-5c3d-49a7-a9c9-bdd5f621f2d5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1174,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e747ad51-f6ee-406a-9bb9-a385e3ef5eaf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10660acb-8262-4fa2-9ecf-1a943b14e5e8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f5433eb-634a-4260-9228-1d0242afe9ff&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1946afe-14aa-4137-9b33-0c22bbeabb07&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6131f188-cffe-44c5-ad6d-817121cb409a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1259,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d959ad5e-3e57-4f4d-9130-b01c355e2026&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1087,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d13230ac-b509-41e5-aba8-895e06c45008&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1245,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2f280de-1599-493d-a12d-36a70f67da11&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1056,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02466750-2f1e-466c-8924-c90841b88193&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e575215c-88ec-4212-8635-23257a78a321&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df6a18c8-f439-4921-8f8b-3d2a0c144684&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1082,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94153f2b-b5fa-4f9d-8a16-5231db955b82&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1154,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83bfb7b3-1b80-40ec-af74-8d966c314ede&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1071,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e62373c6-9a8f-4f3d-bec8-323f3d827c4b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1174,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e2b232d-7263-4220-bfae-245dde905dce&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1063,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51378d24-829f-4d90-b787-76bec51883ec&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e546b86f-ade8-4d8a-90fd-32bfaf9398eb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L5/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1276,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;723b5a6f-71d3-4317-8d97-c3943c576016&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb5b7903-37a8-4f59-9463-26440850e317&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;523e0f7f-96fe-42ee-ba6d-7d1fd4a914fd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;975ada41-00e0-4853-8de3-649a7e9fa47d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L1/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1109,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5265f485-355b-4fbe-9593-1f84c7467454&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1153,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c1de67d-23a9-4214-8f8a-1517644f2d59&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59116211-74b8-49ab-9403-6fc9bb02f03f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e2e2fcd-7c75-4348-bc1b-42cec0e3d8bd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L2/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1072,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b847ef65-5391-4614-85f7-7dda7da88831&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1149,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e61cbeb-ad55-461d-9e77-c5cd5d93dfcd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c15fca2a-79d6-4559-9b7a-17dce6a88b1b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a468ec6-4d40-4dd3-b348-98f175272f0e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L3/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please tell me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11e79fd1-5f9d-478a-9a27-5a36942c6be6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb0b29c4-bf46-4ac9-980f-2cf1526996df&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92468e2e-b0bb-4f00-8b0d-338a24712166&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1298,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41f8875d-ba06-4a7b-a919-51700666f080&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L4/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1130,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: please inform me my monthly expenses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;936c7a4b-76dc-4807-af7b-de380e0f2f33&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d146fc08-6060-4d4b-aacf-0fae4902f71b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1069,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0bac9d8-d315-4c32-98c7-456bba66ccbd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1307,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2757f335-88f9-4443-b4b4-d2378304ccaf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/interactive_story_176.convo.txt/greet-L6/monthly_expenses-L5/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1007,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: my monthly expeneses\\n#bot: Monthly expenses\\n#bot:   MEDIA(https://i.imgur.com/PFBSQhF.png | image/png)\\n#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a911aa3a-b4bf-4104-8c81-5c40af99e3a6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L01/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L01/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4447864-e711-414f-94e4-15745a0dd054&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L01/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L01/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1082,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e581d69-88c2-4f67-adc2-8fd2fcf0a4f4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L01/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L01/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1193,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a673e64-7561-4cfd-a9c8-aec9cf83f02b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L01/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L01/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1050,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7dfd4f7-bf1c-4f3b-911e-e1a770fcdea0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L01/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L01/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24eaafdb-98e3-4f3c-8579-c02c397de43c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L02/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L02/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ae6d6e9-2260-4f32-a0ec-139e7ce8badc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L02/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L02/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6964f34d-237e-4170-b5e7-191127d3dfd0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L02/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L02/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c77751c8-d413-410b-94cb-293c9485d5f0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L02/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L02/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1076,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c176106-3d6a-487f-80ac-9babd98ae8ec&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L02/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L02/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1212,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23b98c3d-49e6-4551-ba4f-c3ee7c75cfff&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L03/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L03/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b2dcecf-3dde-4df6-84fe-83a9e30127cb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L03/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L03/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6358d8e-d3ab-4f70-831d-2c990d947bcf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L03/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L03/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1191,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;117e3bd7-6fbd-4568-86ac-6f14dc8ac8f1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L03/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L03/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12179d81-505d-405c-9685-88f82a949583&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L03/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L03/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e497e7f4-ad99-4475-ba25-aabd045f2e65&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L04/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L04/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1093,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dae80d4e-8451-4603-bc76-1b4b8b46c3e5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L04/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L04/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5125fb38-095f-49e9-910a-6b4c1f343dc6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L04/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L04/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1150,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4001cb2-3ca5-42a7-9050-6be207efbe0f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L04/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L04/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb4e46df-769e-4fe8-b3ba-5d531e91976c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L04/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L04/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e57998d7-7d9a-4c03-9da0-48b552e1c84f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L05/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L05/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c75f39fb-aaed-4ac3-86a9-3f0b2eadf380&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L05/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L05/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;516b86aa-86fa-42be-903f-286e837d258e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L05/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L05/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6012b4e0-43ca-49e7-a7b8-756b590acfd8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L05/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L05/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76cf9a37-5efe-4ea6-9c9d-903e0705be30&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L05/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L05/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1044,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe3b473c-ae75-45df-a755-7f774f822037&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L06/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L06/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;117d2a4c-7c60-48a3-81b0-a49823daf7a5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L06/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L06/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b9d7789-ce8a-4742-8220-357fb288ce41&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L06/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L06/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1283,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3dad0b67-8660-4090-a54a-a249f09e4ceb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L06/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L06/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1036,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c352e32-ee14-4cb2-9a45-493e7f73bd2b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L06/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L06/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1230,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93917b76-aef6-4fe4-b617-ab140c08cbb0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L07/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L07/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1365,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d163f1a-2476-4a0b-a575-6bf84e911fcf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L07/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L07/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5e11e72-31b2-4e9c-9f5f-f2fdfe09425a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L07/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L07/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d366193-d81b-4b11-a704-22b3548b8a3d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L07/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L07/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1218,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86fbc9de-5de7-458b-8701-ae7c96e7db71&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L07/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L07/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1041,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;862f13ec-02f3-4d76-8431-a715122b3196&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L08/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L08/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b714c06-e62d-4560-a4a4-056c36144b6e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L08/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L08/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1138,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56455051-7c00-45e6-8968-6439f07f54de&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L08/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L08/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4dbf26c4-fbfb-4822-b83b-beb0559a5bc0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L08/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L08/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1037,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17d38c87-6c05-441d-ab81-066275e9a782&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L08/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L08/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1323976d-9105-4c9e-a6bc-871634ff48cf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L09/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L09/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1078,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2a1f0f0-3712-4d08-9f14-1d5c5f8acf0e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L09/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L09/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b0c6337-eef0-4bc4-b75e-f114a6aee743&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L09/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L09/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23ea0a88-290b-4117-89e7-6d6f862895b8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L09/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L09/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1063,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12f3663e-54d6-47cd-bf08-05b8d938213e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L09/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L09/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1149,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9f34973-8ba5-4225-956c-3e44c7dd3ee8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L10/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L10/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1102,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14a281f6-3b0b-43e5-8227-6ff016bf1913&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L10/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L10/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1095,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e17fcf2-47fd-4097-b567-bc34a2cc8d6e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L10/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L10/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1060,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0188fca-2d26-4759-804d-1e23ca427d4d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L10/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L10/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1228,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b94cf53c-7f71-4d5a-95ba-879a24c175fd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L10/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L1/mood_unhappy-L10/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1215,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f806cb5-90f6-4b18-8a6a-245db3708ad8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L01/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L01/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1151,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77b4e2cb-a8fc-402c-8914-c0257cca8f89&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L01/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L01/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1072,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0d27561-7295-4573-aeb5-496783916c2a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L01/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L01/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1109,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37c5d345-b617-4aab-8405-7f10a5e9d53c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L01/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L01/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1233,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58cc6798-7271-4516-b639-03de5759332c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L01/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L01/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1036,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16d6d7a7-e644-48aa-b36f-caf6d288f77d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L02/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L02/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1080,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ca75f6b-a436-4e79-aca0-82d1d842676d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L02/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L02/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1088,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;017812ec-531c-45f3-b05e-e5b0c8ef0063&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L02/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L02/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaedab60-1fcf-4874-b9db-837314870d91&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L02/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L02/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1176,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;048ec23b-7050-4ad5-a297-d4433c01d99c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L02/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L02/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1085,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43311fda-5f13-4f04-8538-1c6e905f5ed8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L03/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L03/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be48aac6-60ca-4d02-852d-cfcb3d087891&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L03/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L03/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1151,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c05c7203-d479-4185-b54e-68c3a8857285&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L03/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L03/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1109,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ac7b06b-20c8-4adb-9f10-8457155632dc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L03/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L03/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99b0c3e9-ac8b-410e-9adf-f5546ebd8740&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L03/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L03/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1074,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;565f6e15-08fb-494d-920b-966951e84daa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L04/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L04/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1162,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;296d4d04-3b90-4c63-81f2-3531a93dc46c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L04/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L04/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1205,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c989c7a-8ce8-4ab6-a7f7-4f32507e070c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L04/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L04/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1022,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c213b4d-7404-4d3f-a252-fdafa74f79ef&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L04/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L04/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1152,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec33a4ad-2895-4c71-bc7e-677d9c5f45cb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L04/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L04/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7541fe0f-7749-4472-a1b5-71feaa6206a1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L05/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L05/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fa13fa7-06b2-44d9-98ae-5629f78d4c8b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L05/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L05/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da03c6b5-40bd-4a61-9cca-5dfc87675006&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L05/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L05/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1090,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a5e4448-ce6b-4901-95a2-b6d0aab24fe4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L05/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L05/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1322,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ee8a2d2-972a-46fd-b545-0ef633b62035&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L05/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L05/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1026,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaaf049f-fb27-46be-af2b-4b2be6b0bcac&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L06/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L06/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84c44830-2f3f-4d04-b8f2-df170ff7ca2a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L06/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L06/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1198,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0dac49c-5dbf-440e-a86b-529cf842e02e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L06/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L06/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1046,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47f07130-2d05-416e-ba8b-e6257b4bf109&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L06/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L06/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59dade73-b2f9-4e35-899a-4588e5a158cb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L06/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L06/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1262,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f609ced-e248-4329-9630-52c1b5d09fe8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L07/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L07/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:975,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d4d7468-23d0-4627-99d0-95f3b85f3e12&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L07/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L07/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1135,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6786f5e-ae59-4746-9f1e-61d6cc50e963&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L07/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L07/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1164,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b7af181-c783-4e55-b4ec-4578d93875d3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L07/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L07/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34482348-cabc-495d-b69b-45517bdd45a7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L07/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L07/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15bf3b33-70a9-42d4-b6a7-79159f31449f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L08/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L08/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1013,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb0bcb53-ee91-4b85-b1d7-c847eb08e936&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L08/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L08/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;598abed2-b258-474b-949d-e42f5e7d91fa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L08/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L08/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1071,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bf21f56-44e7-40a4-a5db-b4792b5d7018&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L08/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L08/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f6f11ab-4b56-478c-897f-841e6f1435cf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L08/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L08/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1162,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b187ac2-cc3e-48c7-a193-27d9586cdace&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L09/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L09/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1093,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb78ea05-c6c0-4db6-8e1e-a6f03b28f1de&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L09/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L09/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81b8b8c9-e307-441d-8734-ebbadbf664fa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L09/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L09/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1184,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e0f9eb8-c9bc-4fc6-8f94-597a0d3f123f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L09/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L09/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1037,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0b9baf8-b12c-465b-9334-7236c1616ede&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L09/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L09/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1051,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaf3701e-39bd-4088-b8f1-bb3ef03c7902&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L10/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L10/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1251,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd46bd5a-3911-4da4-a775-12fbc9bd2e9f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L10/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L10/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fbc2802-be4d-40ce-89f4-92133029576d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L10/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L10/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1062,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe66cdeb-1399-4e3c-949f-edf09ef0f59d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L10/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L10/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1159,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed906f24-fcf6-4f05-ae58-b90b5f5a01ec&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L10/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L2/mood_unhappy-L10/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b552102-98e5-4df6-90c8-9718b2db31a6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L01/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L01/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;831e5ebe-c6c0-430c-a673-3f8aaeae1f28&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L01/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L01/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47ce8350-352f-4407-8054-22973e632fa0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L01/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L01/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1066,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;757fc2be-2a38-4f5e-a2d5-45d05ffb0231&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L01/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L01/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6c23b96-0219-4962-b1d3-bdba4beb4f57&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L01/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L01/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1070,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;147df4ea-9042-487d-a80a-803aa4a72cb7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L02/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L02/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1156,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f53f9373-761f-496d-95ec-fc65a00a03fb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L02/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L02/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1eb96a8-002f-44f5-adf2-2cf17d4a24a0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L02/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L02/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e98dc8a-b730-45db-bd33-4c5d7cc77d73&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L02/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L02/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72edfb78-dc29-49af-b28a-e1ce2c2af67c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L02/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L02/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1176,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c566cdc3-d626-487d-a22b-f3dfccd1ea1d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L03/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L03/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b8f5d8c-a7f5-42d7-8a81-1de43fe37e1e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L03/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L03/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1245,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ca1f19f-bc16-4442-a0a8-28aad3567356&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L03/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L03/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78eb3f21-1ffe-4e5d-9970-319d944fe20c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L03/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L03/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c51ddeb-f830-4779-82a0-b10d26bd5b59&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L03/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L03/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1076,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32db1d72-07d4-413c-acd6-2589824d1d7f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L04/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L04/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fda952b8-977b-4d93-b80e-5fa2bdaba664&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L04/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L04/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49d7faba-00ad-4c07-a41c-d4fc208aed05&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L04/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L04/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be78ffe3-14bb-42c0-8ceb-7965b2b83bcd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L04/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L04/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1272,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7d0e859-73be-4d86-93d6-0fc3a5e1ac6d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L04/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L04/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1029,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b7bb73c-5d2d-41fa-918e-a4bcc150799c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L05/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L05/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;395fcaa4-f1f9-4de2-8ccd-bbd1482c5cfa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L05/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L05/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1244,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8b18b15-e51b-4580-bfb0-2383fe77e85e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L05/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L05/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:984,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8336aff7-3879-4ab4-b935-f44ba95b6224&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L05/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L05/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1158,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8e6985a-8035-4ff1-bab0-447c443bd9aa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L05/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L05/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69edcc8a-b036-468a-bc2a-e97435023003&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L06/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L06/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fd1f27e-e6ba-4e15-8105-586a0bdd857f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L06/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L06/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d54b4e4-1b44-4637-ba0b-fbd1d42cd7f0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L06/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L06/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c9c8414-a162-4740-a6d8-fa7e0921c027&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L06/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L06/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;147b56ff-f0b5-472a-b8a1-b9d3773d1697&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L06/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L06/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1214,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42a3e539-b56c-4e92-b5a9-f9315b6e8253&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L07/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L07/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1022,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b34f0a8-e4f4-4b4f-ac57-d5a28b433b29&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L07/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L07/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1206,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;157a3355-e9f7-468d-af6f-16baedf88d82&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L07/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L07/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1074,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18f75fd1-49fb-4530-8687-d25f3fc61d70&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L07/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L07/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9018356-3d73-4bd6-93f1-9ff31bc70dff&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L07/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L07/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c689db4d-8565-4742-ad1b-9a16021b3d47&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L08/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L08/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c758dbc7-5e89-4731-a817-b37199e3e051&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L08/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L08/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1130,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0690fc21-6f13-451f-aa68-d864c8ac66db&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L08/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L08/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1076,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a6d93fb-0e2e-4436-b90c-120d9fee7f98&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L08/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L08/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a606cbd-6a6b-4508-a614-25f6a9fafb21&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L08/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L08/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77e541f6-edc8-4f54-b35c-55701afe27d2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L09/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L09/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0fbfc96-1108-4f42-90bc-525d394b1a39&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L09/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L09/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;adc43593-f779-4408-a90d-598e761dc6d6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L09/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L09/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;266c918a-319f-4aea-a526-b9c1ac282003&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L09/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L09/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1080,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10c9413c-8678-464b-a0e8-953feafb4188&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L09/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L09/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c5fcf91-3e82-4fed-bf80-c9018aedcb9a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L10/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L10/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1186,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9adaf7cd-dac0-43b6-a91f-228766df877b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L10/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L10/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1073,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65a66daf-e36c-498d-9335-66c0194a126f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L10/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L10/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1171,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;557fab74-58d7-405f-896c-9000e8863067&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L10/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L10/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1062,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db600269-f60b-4cd7-be82-e23ce42caea9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L10/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L3/mood_unhappy-L10/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1080,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6573ac73-c1d5-4682-89d0-4dc8335ab8c4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L01/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L01/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1236,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ba3bcfe-870c-4074-a873-4d9088c3599a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L01/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L01/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1338,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76c2dbea-070d-4eb3-b648-770d30e7fc3b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L01/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L01/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1235,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a621e787-ba30-4612-a2d2-e453d86ae310&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L01/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L01/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1074,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29a07b5b-f829-4ac5-ba36-504ffc12123b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L01/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L01/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1196,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9027542-f825-4551-a04b-dc402bb6c029&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L02/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L02/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b644049e-0633-4204-b56d-bc589418ddfa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L02/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L02/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1206,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f974d357-a16c-48e6-aae7-58dc5ff0c007&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L02/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L02/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;320b49bc-f0cb-474a-ace8-d199830cffce&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L02/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L02/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9da1897c-25cd-458c-b66b-902e7e7ee82a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L02/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L02/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9408a13-2056-4ac4-83fe-5297534d9e9b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L03/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L03/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1234,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1dc4ddb2-e591-4e48-afd5-5003f3b23a14&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L03/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L03/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;984a8428-e5bb-455c-a711-a7ea018760fe&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L03/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L03/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1074,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edd73e05-371f-4a4f-bb02-922e1073c059&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L03/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L03/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9f583fc-05d9-4e2e-a6ca-c1cd544a1b98&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L03/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L03/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1163,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f73edc2c-81f8-4d10-a1c9-4cfc4e267ba5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L04/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L04/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1165,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;662d38f5-00a0-445a-958b-2499c540182b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L04/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L04/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1093,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a1bbfe6-20ea-428d-9bbb-278ec0efca1e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L04/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L04/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1122,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53385e24-0973-4403-b832-643bd8fb37f2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L04/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L04/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df79edf7-af6e-4b6e-8256-f34107dda7f6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L04/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L04/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1188,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4503e994-ec02-467d-9f84-b94062c82208&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L05/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L05/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5690839-1ccc-446a-890f-5250396b6756&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L05/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L05/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1206,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7322985e-a464-4e88-b3cb-f39961925a87&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L05/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L05/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1106,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6834644f-4628-4322-af49-a70e2bbe6996&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L05/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L05/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1075,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94d32098-1e85-4172-8893-2e1a040fc9cd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L05/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L05/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1172,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afe7b2e8-cc30-4642-a1d1-0708051b2414&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L06/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L06/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1106,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b63cb43-934b-471b-b983-77a2ec98b012&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L06/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L06/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c627346d-e5d8-401e-8c80-ecde5b7e9246&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L06/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L06/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1240,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fce45bb4-f4d9-4eff-b157-35d6f5235c5f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L06/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L06/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1037,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;591f55d2-fbbb-4d40-9f1d-95a1153c37a6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L06/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L06/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a6d5231-0376-4a4b-b6dc-d6e849912585&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L07/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L07/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5ebdbff-c18b-4cb1-b33a-d4d1ec566b7d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L07/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L07/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02e07611-9a87-445e-9ae2-5dbf35899474&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L07/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L07/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9f8213e-11a2-4a0a-95bb-6bd50f0f7131&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L07/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L07/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1123,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9108a41-07d2-46c3-b245-3e9cc22ce17f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L07/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L07/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52af3093-a9b3-4a30-a816-a64f09190d5f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L08/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L08/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4b73a9a-77b0-4029-9a3e-9295f344d735&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L08/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L08/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc789031-210c-4b30-abdd-550c472f1492&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L08/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L08/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce44573f-2626-44a5-a060-614742591034&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L08/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L08/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c78c27d8-d625-4879-9e56-79072092e5ba&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L08/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L08/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f489d45c-6bcb-4272-b986-ced8ab8362d2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L09/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L09/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;720911e2-e032-465f-a97c-7cf6d075d65a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L09/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L09/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1269,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26da5518-be03-4709-abb9-11dfe5663d88&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L09/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L09/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1043,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fc3699c-1215-48ec-8248-aef0df90a355&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L09/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L09/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d404cdd-7614-453a-95c4-e2fec3026f7d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L09/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L09/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e34f7f6-ec1b-458b-810b-60ae5f1f5d3e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L10/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L10/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1075,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c543678-532e-4e69-941e-c9977979c9b1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L10/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L10/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eadd3745-890c-4051-9fea-68f637112115&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L10/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L10/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a07e4e7-5c46-419d-a638-20d7dafc676c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L10/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L10/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65cb77b1-0993-4afd-bfa3-4cc50ceea2dc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L10/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L4/mood_unhappy-L10/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1088,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;995b4018-f81c-4c5b-8b9f-bb18b7be916c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L01/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L01/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6b63af8-7b99-4d51-af2f-572efa3fe568&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L01/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L01/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;760957a9-2774-418b-ad30-0902226a3720&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L01/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L01/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;369e7077-901e-4e65-aa2b-d9811a914db6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L01/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L01/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;035d8856-bd56-458f-844c-85a9b12b38cd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L01/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L01/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1075,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a733df01-8d13-4246-829a-00d51694efb8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L02/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L02/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bd131f1-0f37-4add-a117-f910bd21fca6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L02/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L02/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0630b15c-27b0-4daa-aa6f-e9de00e8b6bf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L02/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L02/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1106,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b269ed52-6e74-435e-83a7-d554283c4a39&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L02/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L02/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1102,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1814e925-1e70-47bd-a79e-6aaab9fd2bd6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L02/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L02/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b9fd694-d738-466e-add1-45425d432f48&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L03/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L03/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1130,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed4bb36e-3638-4177-a828-355cca8c1d35&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L03/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L03/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b05e7f2d-2f10-4838-8684-3e2ba16971c6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L03/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L03/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1122,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a07222b2-0a2a-4c91-b506-9e17c136c32a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L03/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L03/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59ff0dc3-f423-4060-9f92-09b9454680b3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L03/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L03/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1140,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6966a7e-3817-4742-b787-13ff6addd50e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L04/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L04/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;538e8f1e-427f-4771-a021-a147caf9f91e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L04/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L04/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a66aef85-52be-412c-9109-5d2f7db953ca&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L04/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L04/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1151,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;441ed4e3-d74d-419a-911d-286ad829e970&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L04/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L04/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6f533e9-159a-4d8f-a254-21ce23e5d46c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L04/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L04/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1162,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18f01414-f4f6-4817-90a9-37ed4ebfb500&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L05/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L05/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1095,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1586a1a-de0d-4b40-8693-b1c19f251b2d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L05/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L05/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1088,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04493f52-66e4-4b3f-9997-29565404c1f1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L05/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L05/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1160,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ec3fc7e-3e42-4cd9-b1c1-bbcbb20a5686&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L05/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L05/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df938ffe-7980-46ea-b3de-15dbbeebcf0e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L05/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L05/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1352,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca65f4da-0985-4952-9f37-adc49d330be4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L06/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L06/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1023,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7cefb3f3-f031-4ed4-bcdf-7bb90a3c5da6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L06/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L06/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d46b247-a240-4470-ac65-0cd9a7e53a31&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L06/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L06/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1185,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;240bde10-f940-4a73-b4fd-d8a114342a34&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L06/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L06/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1032,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16bb01d1-fee4-473d-ba67-165f4fe813a7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L06/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L06/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06034111-0a08-4b30-878a-b9dbeebe9e49&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L07/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L07/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86d8c5f4-e4f9-417e-99d9-950eee8c847b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L07/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L07/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1139,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7e298e0-f22b-4dbd-b625-717de069a6f4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L07/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L07/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1064,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0adb2ed-7410-49bc-ac9e-5a0ca6de0812&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L07/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L07/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;453f26b9-9599-482a-a724-743841ea96ec&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L07/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L07/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1087,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e4ecbb7-4157-48cc-a91a-0321520ff41b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L08/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L08/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8db9b9ee-1651-4ed0-a30b-769cfb4140b5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L08/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L08/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1164,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6787422f-290d-4ed2-998a-a163e7a95df0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L08/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L08/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1047,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8ec7b09-8e03-4f41-bffe-140e33eab5f8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L08/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L08/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1138,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3fa2c725-2a8a-4f64-b101-db6b01185647&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L08/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L08/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1058,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16d15efa-6633-465a-8d2a-7ee2642eeca2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L09/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L09/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1159,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b53a984-8571-4772-af31-f1d2720a58a3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L09/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L09/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1021,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9980351c-c871-4543-b2f1-e65f23f95a98&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L09/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L09/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1169,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;968ba5cc-f2c5-4872-afca-a641a3ee08e7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L09/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L09/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;281fa1d6-eb5d-4b83-b6aa-5481cf3287f2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L09/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L09/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b166458-0371-4df1-b5af-bda6271f70d2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L10/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L10/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1203,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00d97413-e25a-447f-83b6-6cb64dbad9f2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L10/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L10/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1026,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6770dddb-2115-4abd-9d4b-ca0c0134674a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L10/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L10/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1158,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46974676-7265-470c-ab24-c8e057fe7cde&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L10/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L10/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1073,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b60472a1-8f3a-4d87-80c7-2afd9de57608&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L10/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L5/mood_unhappy-L10/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1196,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7da9785-32a9-445c-bc67-47853d81bc9e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L01/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L01/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1066,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff5cd808-6e1a-4035-b17f-b863c375b2a6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L01/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L01/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1055,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2fc9a187-cdf6-4d2b-8c76-0382394747b9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L01/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L01/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1186,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c638cd3-202a-48ee-8136-83ba74ebb021&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L01/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L01/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1090,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cb8a323-555e-45fd-8be2-7571149c9154&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L01/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L01/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10cc7611-cd5c-4551-b726-bd13435d2c15&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L02/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L02/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f2458fa-7eb4-4769-9459-ef57849ab9e7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L02/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L02/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1151,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08db8cad-fe20-4866-a14d-effe5414194c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L02/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L02/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1065,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3af24894-761e-40c5-95f0-4b9c08174927&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L02/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L02/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1138,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af09ef4a-da4a-4475-8be0-a0048e5442fd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L02/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L02/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49cd18e3-a056-4d65-99ae-31fcbdf940c8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L03/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L03/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1075,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;154d3347-2e73-443b-bd79-dbb3d244789c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L03/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L03/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1143,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68a6b1a2-8ef5-4e6f-86d2-c43b124e01b2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L03/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L03/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44e9e5ee-8521-47a0-a346-50f40c8c58b3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L03/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L03/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91328470-4a59-4294-b15a-fdccae580920&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L03/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L03/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1073,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9e4ec66-fe78-46d3-882c-7f1288105707&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L04/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L04/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf213881-2432-4084-90bc-d3e8d517beb0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L04/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L04/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1109,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;120f8dec-277f-4177-9caa-1b251df6b700&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L04/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L04/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3125a725-35dc-4e57-b769-3b7134e9ac08&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L04/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L04/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb0643fb-6166-4df5-80b0-8a1d670c2577&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L04/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L04/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1102,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a024b929-f20a-4d74-b42a-342ac4162981&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L05/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L05/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1082,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45911f02-6a2d-4560-8762-315da0da020b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L05/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L05/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cb284a1-f315-4487-94f1-cf9872941711&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L05/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L05/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1320,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;886a2169-8081-4295-bfc5-d69469769ba2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L05/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L05/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1015,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;537e00c6-dd29-4529-897c-5b05a646d597&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L05/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L05/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1303,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba603b98-fc1f-4161-8467-fc520b9fc139&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L06/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L06/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1005,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ecb31ac7-8590-4f95-a09e-f2b29e870bd4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L06/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L06/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7221b088-a9e9-4c90-90db-1844fecd9cef&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L06/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L06/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1076,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae0b75c8-8751-4158-b2b1-edc678366a9c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L06/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L06/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8085476-9e63-4885-81cd-3a53b5058060&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L06/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L06/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4fb529f6-d694-44c7-9bb7-0f698d081fa1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L07/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L07/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1151,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a1be5e7-f41c-4150-ab34-e8a366b51fea&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L07/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L07/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2df38ddf-0332-4cfa-b9cb-c7a220b3fd36&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L07/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L07/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1216,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b47dcef-1f73-4c2d-a94b-feed7a79905a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L07/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L07/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ecf1088-7825-41ff-9b69-c263036836cf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L07/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L07/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1050,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba8aa82b-215e-4eb5-8e26-7787e3594a7a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L08/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L08/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1151,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ecb5481-793f-4429-8c15-4343b3883ce8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L08/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L08/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32062e9b-82e0-46e6-ad29-57cf68177410&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L08/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L08/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37997bba-4dcc-483e-83fd-a0925d88ab6e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L08/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L08/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a7e4464-38ff-4820-b97b-7c1eaedc5104&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L08/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L08/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bac63c7b-3971-4d31-8197-724abc832545&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L09/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L09/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae17a53e-7c8b-466a-8015-5ed4fd3b677c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L09/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L09/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1065,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;963b186d-c965-477e-a6b1-f63945509392&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L09/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L09/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;924100c5-de49-4707-be27-d91181dae561&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L09/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L09/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1102,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad0df54e-8a2c-4c13-92a3-48f9deb543bb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L09/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L09/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1096,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9432476-b5df-4bce-9cf8-803fd9b30649&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L10/affirm-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L10/affirm-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1187,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: yes\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dee55a95-b993-48dc-9a61-a77f6a9d6d4e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L10/affirm-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L10/affirm-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1068,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: indeed\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2e492f1-190b-4314-9c00-f76fb6958fed&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L10/affirm-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L10/affirm-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: of course\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c255fb3-fdb3-44f3-9d85-3bf5a221b58e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L10/affirm-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L10/affirm-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: that sounds good\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3637e440-ad0e-4083-8141-95ee02a42b6c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L10/affirm-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_1.convo.txt/greet-L6/mood_unhappy-L10/affirm-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: correct\\n#bot: Great, carry on!\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;022dbb19-1475-4829-ad54-1e1317eaf42e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1876a9d1-ba84-4aba-bf35-903eee8bd091&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1294,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03859caa-1627-4629-a6d3-53be9866d837&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1053,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31f05f0d-9c8d-40f7-afd6-8249e9da2763&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1076,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;efbe48ea-b33b-4708-86fc-b818d5120f11&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1185,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5ea012f-8525-4614-8621-db1991d6c32e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L01/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b47f596-52ab-4e72-ab8d-81537e7f3ba7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1123,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49858e6e-04cb-4ec1-a4bc-62714e1b291e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1199,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ead0809-4052-4dae-995d-36a62089f858&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1075,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b28fdf47-14bf-496d-af37-a58cb9b6e20c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1138,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c310d04-c7ea-4185-8e31-bcbaacc5355c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1122,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc2de866-673a-48f4-a93b-c3a6fa5514c7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L02/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;071bf213-782c-433f-91f0-ab80b8719459&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1204,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e911c57-fc27-4e69-9913-d13496ae8491&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1046,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;360d3476-165b-4d48-bcba-c22f2415174f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8d9843d-1f79-48e7-9545-4fbfd86eabfb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d150a20-d792-4ae7-bdd1-5b9a63b528e7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1193,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbe0f69c-22df-42b7-92cc-ecd479eda386&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L03/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1138,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eeea8e09-031a-4d24-9ba8-2bd4a681b835&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cff530a3-1d04-46a1-88fa-182ebad804e5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1090,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce5762bb-c432-41f2-b4f9-bb763e667e32&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce5dee8f-d60a-4376-8eed-0faf239c3f9e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80877159-8aa3-4e4b-969b-8e3793d548af&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;628eed57-198b-44de-a150-e1d0cf97b565&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L04/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4932637a-e1ba-4757-87fc-c7b6d0cb2836&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;699fa258-75e9-4412-b0ab-c0fc25b9a296&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fb7068c-109a-4a45-aac0-98b757208c68&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1059,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71ac5f96-9f85-4f31-a8db-1214b64b22d5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ef4284b-3d88-46b9-bb48-939759fec581&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1133,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8ae1868-441f-409e-b433-3bcc1b960cfa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L05/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7593c7f-b2c2-4234-abe5-6ba0c92b2623&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e209acb1-1f9e-41b0-bac4-94ed2d3a95e1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1051,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c496e895-720e-4984-a5e3-827dc0c7538f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1313,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18a3839d-59cd-4afc-95bb-5b83d176363e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1047,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abf6753e-343d-4573-86b6-33017bf52046&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1151,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1fc030c-a5fa-4798-83b9-9cdb8030effd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L06/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1078,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b02ef0b5-15b7-4f56-b275-432b4c315d15&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1093,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b7cadb7-8691-4df6-9a0a-14e52043b5e1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f777461-1bec-4be5-97b5-1bda312967c9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1212,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32221c70-cb6c-4d6a-82ce-362d1630260f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a812f366-7e26-4f3d-a074-1cbb220ba91d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1049,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8efafca-13bf-44da-8d03-c591bcc0c792&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L07/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1087,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65ab9a8a-966b-42f2-b217-08cc800e7fd9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;684f92ea-84fe-4afc-981a-4e559be0dd36&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f039fbc2-37ba-4855-8b9d-b2e6cc00deb5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;375aebdf-5b73-4d10-a667-afb325aed2b7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1195,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93513f54-7617-418b-a363-3b1f675bf2a0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1040,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbd58c96-59c8-4486-ac8c-83157369ad60&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L08/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2d87353-315a-499f-931e-4a3ef6e1bd75&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04c5e426-61c1-4a6a-8823-31fba137d9d1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1149,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ccf34202-630b-4b1d-a522-b308e0c56c29&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1102,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31772d9e-7a4d-47e3-a4a9-3b4b21f99eb1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1220,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b1efcef-b9d2-4c18-96ba-9c0ee5f47d68&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1096,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f02be08-a5e4-4996-aa10-ca3100dbcab4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L09/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1093,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f477f162-f6c2-41ea-8496-93bcb5dd862d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1214,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12fe4734-89d5-467a-9468-0f31f7a6dbac&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1122,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9912c85b-412e-457b-aa9e-1c70e4d3f4f7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;409ae0e6-6e8e-4f80-8245-db0eff5f6d49&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1202,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d201e4f9-dd0f-47d1-b687-33367e3fe526&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1058,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41836adb-b3f7-4496-8643-9dd5f9acc257&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L1/mood_unhappy-L10/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1073,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46e2e801-b264-4290-9634-7532062277f9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1085,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;340c5360-e4b8-4179-8111-ed71e7d34c4e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1174,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3985a85d-fac3-4688-b9bc-a23c41673288&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1308,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c28ded11-8a16-474f-962c-5940c8462a6d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1045,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;326c12b6-d800-4c7f-954f-391bbebf0e6c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1238,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7eadbaa7-d576-45f3-a6e9-f10bbae81d4c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L01/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1047,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d23f0e6d-7f30-4585-9406-a0a235d3cc30&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1090,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ecbe64ec-eea8-43bb-9148-929c4adb1dbd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1090,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe3b09f1-414f-4e9c-801d-9e72e4172b73&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1138,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;343ecdba-9b42-459f-bd17-3e213ef6f66d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64adb2c1-8503-4c65-b35b-08517029406c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;182efaef-a656-4ecd-9dd8-4591635a4c64&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L02/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89fbfb0d-d326-4034-af39-756f84752d4c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1096,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;589c2d0f-dec0-47f8-83f6-650ffe4da397&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d05225f-4e83-409c-8175-bb8041c640af&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1106,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c5fd928-1245-499e-8366-7880687d2bf6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1228,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2900009d-5f43-46ae-a77c-c496d25030ce&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1014,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f171bd58-451d-481e-82c3-924f0f58dc8c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L03/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1085,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;259ba2d7-4b25-4003-aceb-930196cbf125&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c8fbed4-8c2c-4223-b06b-4597ea7c1523&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1191,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;547d549e-c1d4-4953-bb79-aab83565162f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1088,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94287bba-3baa-43ea-b19a-e6afd77e1541&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b8e5c8c-0c08-4493-8330-b62e1eef220c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37821c31-10be-4475-95b0-db6b0791a162&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L04/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;696b9a86-a072-43f0-9780-20128127ce73&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35006102-530d-415c-a7ed-24917e4183d1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63bba71d-f5c9-4bbe-85e4-e52f26ebe984&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1084,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96ba6657-9aca-4ac2-90da-19a51f61d798&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de9c7ebd-a1ed-4fe5-97b6-68bfafc36252&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1058,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46759ea1-c94b-40ff-9f74-10f155a22551&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L05/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ee17f92-cfa6-471e-89c3-bd830492f709&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1317,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ede1500e-49e6-4557-8dfc-91835d41544d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1040,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75f740db-377c-444f-b29f-277b2c404887&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba757cac-4843-4415-ab8d-5251b7dc2e37&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e06a67c-9dd3-438a-a42a-66a05d07ccfc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1241,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9886b5d1-0edc-4c0b-bd29-0d36d7ac3b1e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L06/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1069,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5f84198-6452-43e8-be81-f8cbae78c29a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1157,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc5a8570-da09-4bf1-91a6-6fa1ae30e767&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7dfe9928-aa74-4d0e-8bef-0810bfac3d4e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1077,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80f4fb4f-dd84-4932-b3a4-d8b2e2486440&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79136135-e008-4591-b040-226f61929949&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1056,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fd303d6-ab03-4a86-a048-d3f23c8b4359&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L07/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1169,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81030794-6464-4c4b-b7e6-3ee7fbd3085e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1088,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae4da49b-857d-4c1c-ae10-1157bffc0622&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e0951bf-550a-40fc-8957-70e5cf25a08d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19de6721-5f81-4916-9a81-672432e93db8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1272,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;085e0f1a-81eb-4d18-a830-47a96d1f7a7f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1031,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b408a8b0-8b01-4494-9d97-190d2629cb0e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L08/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1203,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33d41f15-1241-48ec-9686-b2ba33fabb8b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1058,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a8db039-b984-4955-a9ee-967fb759db25&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1090,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c30f354-1cb6-4d93-96d2-882281c6c33c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1095,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e0ca1a3-8350-4204-ac1d-90ac58063c5d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c66f051-2fdd-4ee9-bb44-52583eed02e0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a7fe16a-0247-4b2d-be0d-43c2ceba92ce&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L09/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1109,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5436f03-9d19-49e5-96f1-dfee428b911d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1087,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55c79606-d023-4abd-9f75-5ed0b3981f81&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1130,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;880f0640-30be-4bbe-80b6-ec00164e6f9e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1152,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77af81f0-e6c8-41b0-9425-fb8a5b62fe28&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ed7ad0a-d89d-4a9d-828d-e7dcd47c48eb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1236,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbd62fad-1131-4b2f-b46a-61ee16c6bfe5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L2/mood_unhappy-L10/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1008,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hello\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9865a84-5363-495c-b08e-e9d9c45eaf7d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f11718d9-df2a-4209-9ad1-0861893c5306&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1077,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27bb0ea7-34bf-48c9-96e1-7a560e9beb77&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62ad8162-fd3a-4c0d-81e7-c1f1590faffa&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17a8e18e-2153-4ed4-a23a-553987caf546&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7f50a63-d903-45b0-9afb-85d4c527ace9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L01/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1205,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;691fdc96-e584-4fce-b2e4-3389456afbc1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1041,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65ec7c37-1cbe-4ed4-b55f-e506cf876b69&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87a2b525-f0b5-43eb-b190-0610ab649702&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;662bab13-1da5-4f05-a726-42718f5c168e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1155,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e2a5b5f-97f1-4cc7-8f49-a5bba933a80c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74d63cf8-c411-4a91-8310-6ba218f31c3e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L02/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1096,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87e863d5-6c6b-4c78-87dc-4c11e4f185e9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95a0a5c3-9217-48b7-89c3-921400f760cd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1159,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;611be9ce-f018-4f29-85b6-9028b4903e68&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04a1c1e9-1e5d-40ca-8eba-c5f5e33b7c78&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;972f3c6c-ce13-48b4-bfd6-c05389524ef8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1151,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;300b4ee8-13e6-4676-9402-a76312e8b47e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L03/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1093,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b03f9193-5f4c-43a4-9ec7-2ad28a388d6d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1305,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6b332c6-249c-4e58-bd1f-fb9135f9b089&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:992,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13335809-57c1-48bc-a0ed-6fad2b81df9b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1291,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fedba9f2-f38a-4ee8-af0c-a2f836a4ac73&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1071,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85cd19c6-cdd9-49c6-8bee-e11bfa8a3b08&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1086,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b937670d-0835-47f9-8977-fbc727442965&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L04/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3846ddd2-8193-44b3-a72d-7cd3a33a0776&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f69d8990-a713-4672-ad4a-b69f5104ddc7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bd68b6a-cf1e-4499-94cb-165261bcab09&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de37d663-fa51-4a41-bd44-341500e7f83f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1066,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d4f0b82-421d-4f90-ae1c-baef474f4a6d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1135,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0c1f577-99d4-4410-b9cb-75dc4bc072ef&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L05/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09eeebea-4615-4a81-9864-7f955a6413e5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e101ef0b-93c1-409e-bc9b-d8d2911c9b98&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1130,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e8a1e7e-774a-4fc6-ae25-a2af4b7b5050&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;766ecd1b-5316-43bb-a268-bc4d97625b98&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1072,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e3b3efb-57e8-4407-8239-ae1c02e40a15&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8659cee6-f2a5-45c5-bd2a-ff2d0fabfb8a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L06/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1160,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;139ff59d-cd07-489a-9e2d-be3ee97b3116&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2017451f-e85d-4015-b225-24bc0f4e9c4d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1133,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e0ec5f3-9a0d-498a-b427-4959a7b0b90a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ff3ffd0-a25a-41f5-aca6-615e277264de&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1156,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;723a67ad-0cb5-4e40-be22-bdf055d4756b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1222,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30878743-6314-42b4-8799-5756153827df&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L07/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1020,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67fd36dc-302e-4dbb-af8a-401fd1b7b7cb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1148,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40c8dd9f-b35b-478a-81f8-d4d8b0be40d3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1089,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33a28f51-7f45-4ae9-b1ed-112e4f042830&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1106,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70ab0cd6-a6c8-4ee2-ac6e-e29efc6721d8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1154,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57697be1-7bcf-4e85-b342-b0835fb43fea&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75dd61ad-f764-4a78-b754-a29c367ca308&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L08/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1297,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;026bf552-7ec6-487e-a3cc-b1e635c1c382&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1cd90aaf-06e4-4e8b-8aba-dbcb58857c5c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1090,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a92cf5ee-47c3-4490-a8b7-e77bd744c92a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d61617b8-04ae-4be6-808a-1f81ee672362&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1157,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da2cbcc2-c05a-49b7-a54e-18a6360044ee&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1124,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5585b934-6b36-4924-878c-e90460544d00&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L09/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1308,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;106ab98b-6fe5-4170-8986-c3d7656dd636&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1050,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a789b7a-5a1d-4f7b-bc9a-06875caa6380&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1089,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b4c2026-4851-4ac8-9bb3-ff8dcd91badc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a40ba8c-c66a-42d7-a74a-d3993d68de08&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1148,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a96c003-a0ba-42fc-a57a-8f1a67daef53&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1095,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6721f09c-6209-490b-896c-7ba5357df726&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L3/mood_unhappy-L10/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1194,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hi\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa315f91-e9d8-4da9-ac7d-0480ef455ba3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:996,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ad84e5c-de93-4528-880f-283a32a5cae4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13c12c5c-c435-4e54-b996-c1b8797c7a5a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;892eae27-586d-4bf5-9e1a-23fd710e08e5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f7e9f3d-f466-4f85-8cf9-838fd4a806fb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1252,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40cc6102-8fa2-48fe-8042-1efc2515c05c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L01/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20c137c2-dc6d-4bbd-8750-b96d8c29a5cc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:994,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10364fba-bd43-4f64-a91a-dfd3bc210b0c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5332db4e-ff85-4150-93b7-925ec1e98355&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1197,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c6a5760-3e9d-435e-90b1-3335a00a2eb0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d714ee2-0a0e-48db-b446-c722d885063c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1240,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;246372a9-0ac6-40ed-a228-698b1af7c47c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L02/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1074,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6298588a-f10f-4ce3-bbce-fe1bc9c0a9e7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1243,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3096cddb-bb8a-4e81-9681-f8a7bf94f4a2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08962a52-eda1-4f3b-bd7d-293f46e99fc6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1149,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;874c961a-24fd-45e8-b8c1-9592e03a2448&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1067,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48bf2476-797a-4a84-b249-609efc5f3215&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1216,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d944707-f94f-4d3c-b72b-9aa7de24f1f4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L03/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:997,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;610f5b0f-2509-46a0-8c48-b6315a80b695&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f501e785-98d4-4df8-ab85-f308a410c8b5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1169,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fbe77e1-8ff9-469e-a978-e58b873f2c93&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b509639e-5fe9-46dd-ae0a-1e87c9b19bf1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3cac6c75-7ad3-4a1c-80f5-399fdb9a611c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d9a0043-2d2f-4c24-8878-7c5727b216d5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L04/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;102b4590-a635-4ad8-98cd-5887b85d13ea&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9da92d1-783e-444d-9a86-27011a519fbb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e87469b2-09f8-4447-acbc-33d33b97a3b2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1140,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d05c3a9-f184-4f83-b46f-4b3a20c10e7f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1184,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f67613d-9d6f-42bd-a657-7f4f2294a127&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae42fef3-8766-4f8f-8b1b-7795f3531f34&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L05/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1050,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2c87f2c-d86d-405a-8f19-a59270d185e3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21d7b7b5-7228-463d-8a42-c6a463607f46&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1079,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30fe4de3-427c-4242-9387-7e907a303c7a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;143e1923-20fe-4bf8-ab70-5ea45e5c46f2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1140,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fdb3b031-328e-48a6-87ca-c13696702891&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cae1bb33-1c6f-4a0b-8384-9ddc92142ee2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L06/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bea9d25-eeb5-4c64-9d0b-1af188c1863c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1087,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d828145f-cab7-4d1a-b2ce-edc2783f4a24&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e284d66-519d-4819-bd30-78f73fc7e38d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce6d0bb9-1e27-4531-aed4-9234cd70e1c7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1168,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b2700e2-e892-4a28-8368-19e1e0a03800&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f20c02f-b8ab-425c-a0e6-2a79d6c901b5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L07/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1069,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78413cfb-91f2-47c3-94b9-43ffe1f51660&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2def7c0-13bc-4f4b-ad3c-c6eb26bc772d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1163,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;caaa9070-90bd-4ded-8613-9031a28363a4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f589d2b-fe5c-4f52-8834-7bc7fb0dbef5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2708542c-63f7-4488-929e-856702089742&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f5521e2-1e08-46a1-a53c-f9506bdf5918&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L08/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00eebca5-dffb-49ca-abb8-5365f8eadccc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1155,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f202009f-dda7-4701-b8a4-ffd3e70c752c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37b98475-dab6-4989-a81d-02d09403e660&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2dd74562-bd6b-4c77-af56-0ee2d3c95760&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1383,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d2d4641-bd2c-4a7a-b8e0-310e7e1ee2cc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1026,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8593947-d161-4dc7-b094-6bb37203ee60&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L09/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1055,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39c9adf6-d83b-494b-90e5-7823db8a6b37&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1165,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;239f6dfc-3c46-47f8-b894-9d62e3e0fe9a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60b0f4d1-030e-4f51-acd9-d06817b0cfa1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1063,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7e2bf20-bfba-4ff8-bb02-d24bfae0b368&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23ecf854-9c42-4437-87cc-62453c011ed9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04bc0352-9ab8-4ae5-9685-4e7097fb004c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L4/mood_unhappy-L10/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good morning\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;377f6193-0aa8-4100-8606-5819315a0e71&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1155,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcf5b887-fe3d-409e-b940-e57d0ebecf0d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1090,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03af4bc4-4d03-41c8-9d04-c3987d3c4edf&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1139,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a64c6c8-9301-468b-93f0-94c632ae85c6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1263,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56c946a7-9efd-495c-8320-1b9ff89861a9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1007,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfc77a05-7f02-4853-b17c-6cf4cbd8bb27&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L01/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;157f00c7-c8f1-4fdd-97fe-c3b55407a48c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1095,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0512d52d-70d0-4256-9ab6-cc62950babfc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1099,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;062019a1-0063-4320-88e0-d97d02049f45&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;058cf300-5d63-45ad-95f3-2a000846696e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1194,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;231e55a5-9ceb-449b-8c35-720b80503b5b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1123,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f451047-a836-4367-85db-8b8bdb4604b2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L02/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1072,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afa12abb-ab4c-42bd-9642-86313ca71f7b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1241,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2da860eb-6dd7-449d-92f0-eea1dbe5ff4c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1050,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7030519a-c967-4cad-9d12-5013ef215636&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1067,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60e2cb18-642e-450f-96df-ad850ea76c42&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;635d2eee-6bea-4ba5-9ba3-b2e5e335a7a6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08a0cb39-85d4-4648-b476-2260f83fc16b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L03/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b878ed6-4116-4add-95f0-83e6b1b95b08&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;578f8cd6-ec8e-418e-965c-515685ec61e6&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cddebb54-6ab7-4bd1-b566-2ec39a81ea82&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5db1ec88-cbe1-4d95-865a-8044dc8a4117&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1051,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1450085-4557-4dd6-b35b-3259eb46a215&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01c6d62a-246d-4167-94f0-bb9b7f881d31&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L04/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e7f6ac0-671a-4277-98fc-4b74d66a35d5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1066,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0726bf9c-eb75-4c3d-8771-52e702c262eb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1155,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89bc21ba-e6cb-4221-8284-198ca524e801&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1198,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee13dfcd-3d97-412f-992d-fea7593a9f14&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1198,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6902bf2f-ab16-4451-98c2-cca54f4aeb01&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2a9debe-e141-4f6a-9960-23a1fea2a6dd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L05/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1291,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8f1795c-8cf6-4561-b306-3c26942517e8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:998,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7949c62c-924d-41b6-90a0-8d74689df7c5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1172,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bb4d87b-083f-4396-a681-d521f0ac4d61&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1034,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78d79b9d-6680-43c7-8638-77bf40ee7464&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1110,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;207dc2ad-17b4-4203-8490-dcdc1eff0af8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1257,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ccde67d4-9c45-4267-bf41-0e0ced437366&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L06/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1055,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df2f9610-d001-40be-a0a7-08fdf6f473bc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1168,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e42da67-87d9-4ac4-ab9b-b8ecf659d6a2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d70543f6-4e36-4aae-b7fc-fcb44457103d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1069,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8adcfbc4-4539-49e6-b64f-d208fcaf651a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9da4bb6f-4295-48cf-bd0a-99d22281c049&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1dffcb9c-1aa3-4bf2-b69e-e4d2ae549880&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L07/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1143,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;627b57a5-0479-43f0-a021-ccb617d89b1d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1071,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd512512-b8ca-4756-b18f-8f6e46199f7e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1156,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fff19ccc-2a2c-4853-964a-bcd7b68beebe&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d6f13b8-f60a-4fd0-99de-8c5c989502cb&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fc69ab3-1010-4bb0-976c-f431cd63cbfd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1079,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd971187-eb16-4b42-884a-374ff3241fe7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L08/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1153,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66aff8aa-b7f9-456a-a56e-21813b15e877&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1076,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;216d626e-78b5-4456-96eb-6f7eec9fc3ca&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8638fb3-41de-4410-933c-7fb015dce48f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58772b0f-693f-40ac-b628-75664ab1cd86&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a42c2526-ad00-4568-9ed0-4fb9ab24411c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05c40a4a-c2d0-4336-bd71-41f01c6295b0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L09/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1159,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f6b0189-28e8-41f5-8ed1-8a8adc4b58df&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1197,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d792e3e3-b277-412a-b721-fedf7b93b3a1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1074,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;531649b2-61c5-4f1e-88f3-07bc7513e801&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd72931f-31f6-40ce-90f0-fd5f5635c9d9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5cd4596a-f266-408e-85e6-9f7bae4a3e96&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1193,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e01eb17f-d025-4caf-8b46-48f264f11390&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L5/mood_unhappy-L10/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1045,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: good evening\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ac69b41-4687-43a0-9c25-290454cf5615&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1130,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33a4637f-0fc4-48ed-9c27-8590ed97e39a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1160,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a740b479-3733-428d-82b0-453f80121d6a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d56ed4d0-f310-40d4-a176-6f7946d91564&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1078,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e483f70-125a-449d-ac08-eec076372402&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1282,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2afa78a3-5a78-439f-8ec4-4684ed2716b1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L01/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1212,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;884826ba-7e1b-4d58-a50a-a141686fed89&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1001,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad5caa36-5772-40c1-b293-eac10163ae94&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1152,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95edc035-f321-4613-b27e-ad0ddb4a80b1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1077,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36619a90-ec5c-4842-b859-7d4498a8d4e5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9f67e13-7dd2-41c1-8a55-038c16dac1b7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fcec721-145b-4e90-9a26-6da07372a2b2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L02/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1123,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84f2fe25-6d04-4f0c-8d69-d6545e708f27&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1057,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cb55f9c-0522-4da0-be76-e8053c78a6fd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1253,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7153e23d-7096-4308-a1a1-2179ef03dfd8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1010,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77689544-a6bf-4374-babf-1d1f4879853b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf4ccaea-e0a3-41e2-ab61-c7bf0bab8d3f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13fb59cb-1cf2-4127-86e6-d18ed4f418d9&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L03/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1117,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: unhappy\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7ed664c-1c3e-41ea-9da6-6d7f08f4a8e7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b8545f6-5541-492b-a9ed-d3885291d3bc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1124,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68f48045-a28a-4da1-9521-c256e5817279&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1067,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5973d70e-819c-408d-9c55-d8f948b99540&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1133,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d04fb2e-1302-4bb9-b347-3ad61013fae4&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1122,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb48fefe-92d7-4617-b55d-38fb9cfe9ac8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L04/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc4b2199-c954-430c-a489-caa0c5abb8c8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;691b101c-e05e-4256-a915-20993c90827a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1137,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;751bbb3d-4531-4afd-9fbd-664d9427026a&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1086,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9eaf390-26ea-429a-8f6f-7471b0650ca0&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1088,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcda9236-d891-4af6-907b-d583cc1d4a28&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5afdd03d-f678-488e-9440-7edd17319698&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L05/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: very bad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db8e4866-1da9-407a-a812-cdd1c005ac4c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b2193a8-b14f-423d-9a50-bc9759da6424&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6dfb5db-dbde-46ba-994f-4660f2ef108f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82f60931-65f4-44c5-8a95-2d2f7ac3d244&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1306,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50d824b8-956a-4855-9f55-7723b4739e25&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:994,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;612e3d13-36f5-470e-a90a-b467bb5a8b87&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L06/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1157,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: awful\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ca996c4-0b47-4c92-9e0f-4f1b50028bcc&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7130b5a6-1a07-4fe7-b97a-71b36b918c22&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1076,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c289667-364d-4881-b1bd-fd0794e3d538&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1133,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1989721a-e89d-439d-b13e-4e8527171132&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4b09ec4-fd0a-4945-afb2-cfa68376d1e8&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4625037-79fe-4e28-8030-042f267ed369&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L07/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1086,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: terrible\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;790d11f7-ef00-4f4f-bd24-250cf426fa4c&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d67be1c7-98cf-40a4-9544-c73dce4e6aca&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1071,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57a422e8-d44c-46f9-ad8e-8b063e72c23d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1156,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4519a646-0ae8-43a7-b1ad-b64a423a906d&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1139,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4014a137-4457-460d-9752-6b401cf7f6e2&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1140,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a00797d6-b1ae-48e7-928c-55596f1a7bc3&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L08/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: not very good\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab384c2d-fe9a-4c68-9655-0304c8d8f83e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebaa210e-1ba4-4857-b23d-e4345c0b639e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1abefef6-ca9e-49b4-9482-c063b4b13f13&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1143,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de2afb51-c1ab-45a2-b1bd-8b2ada9551a7&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1257,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ef0274a-1a22-41e9-a55c-d7b0df17c153&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:992,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47eac2e8-71bb-4463-9aff-81d0d87a7833&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L09/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: extremely sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92c8eee6-b53a-4abb-970c-21e409d3b894&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1079,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37d6c8e4-b233-4189-9601-f19b7d774a56&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: never\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f803e55-776b-45b9-b8cc-a05fd4d94e98&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1204,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: I don&#x27;t think so\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;238352b2-f531-40bc-8991-7b5648a2a36e&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1006,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: don&#x27;t like that\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dac665f2-5e33-4ac8-9763-6d3297d5e37b&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L5&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: no way\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;965fcf52-98b0-4917-95b9-6e96edc23377&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L6&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/sad_path_2.convo.txt/greet-L6/mood_unhappy-L10/deny-L6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1276,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: hey there\\n#bot: Hey! How I could help you?\\n#me: so sad\\n#bot: Here is something to cheer you up:\\n#bot:   MEDIA(https://i.imgur.com/nGF1K8f.jpg | image/jpeg)\\n#bot: Did that help you?\\n#me: not really\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d18f9e7-0e22-41f3-a0c8-ed0c0780eda1&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/say_goodbye.convo.txt/goodbye-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/say_goodbye.convo.txt/goodbye-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:329,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: bye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c74b755-6aeb-4691-8bc8-c2e09d16a16f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/say_goodbye.convo.txt/goodbye-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/say_goodbye.convo.txt/goodbye-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:384,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: goodbye\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d59dae39-5e32-40e1-a29d-43ba3881ca2f&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/say_goodbye.convo.txt/goodbye-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/say_goodbye.convo.txt/goodbye-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:388,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: see you around\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11a77d81-dc50-4d90-b64c-5373b4cd53a5&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Convos/say_goodbye.convo.txt/goodbye-L4&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite Convos/say_goodbye.convo.txt/goodbye-L4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:364,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: see you later\\n#bot: Bye\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f50b1aef-46ad-48ef-9440-7e39b9eb9940&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;fallback/fallback.convo.txt/fallback-L1&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite fallback/fallback.convo.txt/fallback-L1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:395,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: This is a fallback example\\n#bot: Sorry, I couldn&#x27;t understand you , please try again.\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5130d52a-ec98-450f-a024-b8d6c6991c54&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;fallback/fallback.convo.txt/fallback-L2&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite fallback/fallback.convo.txt/fallback-L2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:460,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: I&#x27;m the king of the world\\n#bot: Sorry, I couldn&#x27;t understand you , please try again.\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45cdadf5-1425-4905-af51-913638600ccd&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;fallback/fallback.convo.txt/fallback-L3&quot;,&quot;fullTitle&quot;:&quot;Botium Test-Suite fallback/fallback.convo.txt/fallback-L3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:300,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;Conversation Log\&quot;,\n  \&quot;value\&quot;: \&quot;#me: In every jop that must be done, there is an element of fun\\n#bot: Sorry, I couldn&#x27;t understand you , please try again.\&quot;\n}&quot;,&quot;code&quot;:&quot;debug(&#x27;running testcase &#x27; + convo.header.name)\nconst attachmentsLog = []\nconst listenerMe = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerBot = (container, msg) =&gt; {\n  if (msg.attachments) attachmentsLog.push(...msg.attachments)\n}\nconst listenerAttachments = (container, attachment) =&gt; {\n  attachmentsLog.push(attachment)\n}\ndriver.on(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\ndriver.on(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\ndriver.on(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\nconst finish = (transcript, err) =&gt; {\n  if (transcript) {\n    addContext(runner, { title: &#x27;Conversation Log&#x27;, value: transcript.prettifyActual() })\n  }\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_SENTTOBOT&#x27;, listenerMe)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_RECEIVEDFROMBOT&#x27;, listenerBot)\n  driver.eventEmitter.removeListener(&#x27;MESSAGE_ATTACHMENT&#x27;, listenerAttachments)\n  if (argv.attachments &amp;&amp; attachmentsLog.length &gt; 0) {\n    debug(`Found ${attachmentsLog.length} attachments, saving to folder ${argv.attachments}`)\n    attachmentsLog.forEach((a, i) =&gt; {\n      const filename = slug(convo.header.name) + &#x27;_&#x27; + i + (a.name ? &#x27;_&#x27; + slug(a.name) : &#x27;&#x27;) + (a.mimeType ? &#x27;.&#x27; + mime.extension(a.mimeType) : &#x27;&#x27;)\n      const outputTo = path.join(argv.attachments, filename)\n      try {\n        fs.writeFileSync(outputTo, Buffer.from(a.base64, &#x27;base64&#x27;))\n      } catch (err) {\n        debug(`Failed to write attachment to ${outputTo}: ${err.message || util.inspect(err)}`)\n      }\n    })\n  }\n  if (err) {\n    testcaseDone(wrapBotiumError(err))\n  } else {\n    testcaseDone()\n  }\n}\nconvo.Run(suite.container)\n  .then((transcript) =&gt; {\n    debug(convo.header.name + &#x27; ready, calling done function.&#x27;)\n    finish(transcript)\n  })\n  .catch((err) =&gt; {\n    debug(convo.header.name + &#x27; failed: &#x27; + util.inspect(err))\n    finish(err.transcript, err)\n  })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa2f63c4-636c-4ed7-8327-e448d93d3a00&quot;,&quot;parentUUID&quot;:&quot;64b30952-ed72-4f2f-83bb-c8599988d644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cb430a0e-5635-4bae-a36d-093f0b712a09&quot;,&quot;0140af12-6de8-4fb9-8b76-7b8012ba87ae&quot;,&quot;3804b767-f564-483b-86fe-c4bd454f7f68&quot;,&quot;ee1872ab-816a-40c5-8a0b-87350ae62dd0&quot;,&quot;7f3e0790-c668-4d21-beeb-80c1f0ca76d5&quot;,&quot;e29c702c-368d-4163-9d3e-584cb7b0de0a&quot;,&quot;941c8f3e-30f3-4879-9ff7-ac3bf677ceb4&quot;,&quot;5237af68-a1db-454e-95d5-89a19b1e4766&quot;,&quot;d5fcc71a-5502-4211-8910-d657614cd921&quot;,&quot;c5e931f5-4553-40c2-8c78-dc0efadeab73&quot;,&quot;91803ee6-2b7b-4679-ab96-57e15cb02c70&quot;,&quot;4f7f22c1-31da-47a9-8da6-070a5711b56d&quot;,&quot;62b82ff3-b8d2-4f12-b1af-c5731e8a37ce&quot;,&quot;390b8ce3-322a-435a-ac89-cf3b2ebe71da&quot;,&quot;9a1a64cb-7516-4d78-bc62-cca2da005b74&quot;,&quot;b204245c-b029-4eca-97fd-7520abe41fc2&quot;,&quot;941e25c2-06af-4262-a1d5-2d094e4535f6&quot;,&quot;25f8ccb8-1767-4b01-ae03-fc022da78a2a&quot;,&quot;ad052944-895e-4440-8321-69824727a8e2&quot;,&quot;59f1c3c6-8ee3-409f-b193-c6d2089d8c15&quot;,&quot;bd1f8d2a-c23a-4ef8-83e9-c38f03599f74&quot;,&quot;489d0f34-415f-418a-86f0-326bfb89b835&quot;,&quot;204ac0d3-6034-45ff-998f-3518ecce6d10&quot;,&quot;7d2f500e-9319-4be3-8078-295cf33892cc&quot;,&quot;c8e21c16-b537-4b9a-b96e-dd05988927ab&quot;,&quot;8f9d295c-3ac7-467b-9a75-797d73e685a4&quot;,&quot;d50d8720-d2af-4702-a54e-331650bba638&quot;,&quot;76c29f4a-6946-449d-9243-a911dbae8a22&quot;,&quot;6928e99e-38b0-436e-b9ba-c26ac42c3503&quot;,&quot;c9e982c0-d4ee-4d0a-a7ee-0cdd0a073177&quot;,&quot;51d56900-66a7-4122-8550-c7c1c2a01279&quot;,&quot;20a1229b-2d62-44fb-a1e2-e481cdc095e3&quot;,&quot;218f9fd6-a94c-4e22-b566-7630091426de&quot;,&quot;0cd8d31c-0022-47f3-9c2a-10126a9472d1&quot;,&quot;8c4d764a-2fbb-49b1-8d78-f4c64eadb5be&quot;,&quot;98b109d3-1be8-4224-b453-da661575edc2&quot;,&quot;fb90a0e4-fd51-4506-9b11-6cb55180043d&quot;,&quot;98407a2b-eb30-48f9-bb3b-7111ad2f076a&quot;,&quot;5cb629ec-bce3-40c5-97c1-f82f2aff4564&quot;,&quot;b55d3580-1bf5-4398-a563-e6b981ed0076&quot;,&quot;d3d1fa8c-a6c5-4120-9d57-172ae5babf03&quot;,&quot;0c7f47d3-a0c6-43e2-92e6-58e34b3f15c1&quot;,&quot;39506f4f-4cd0-4eca-a57b-2b41b19adbde&quot;,&quot;544b4c6b-6f36-4c39-bc90-f1fbd0dd3d9f&quot;,&quot;8828062e-db12-4ab3-a302-1320f84c36ae&quot;,&quot;a60963f3-527a-4e33-bfd4-e44e83d367bc&quot;,&quot;548cf4c7-d6ef-4452-bbfb-4d54a00e3cea&quot;,&quot;7f5100b5-9fd1-4a8b-8b30-b948ef591b4b&quot;,&quot;55860c03-3378-4129-92ae-7e560cfc0577&quot;,&quot;af75f227-39c2-4efa-b5cd-4a33131fd57d&quot;,&quot;e629bcb1-2db9-4575-b700-5c82f7383dca&quot;,&quot;c5dd6883-d361-46ad-a907-94d368c3a62d&quot;,&quot;7d2a4a49-b676-4d0b-8fca-1db4d71f89e7&quot;,&quot;9bc725af-94ac-4354-9efd-0e01ae38cdde&quot;,&quot;2ad1aa75-0c85-4b00-80c0-d784bd78bac0&quot;,&quot;ef957a8a-4edb-46ca-8c60-f4995951e325&quot;,&quot;bd9ed4ff-edb9-4da2-81a9-a8c07addc8e5&quot;,&quot;ec53776a-69e8-4c21-8d55-cd59120879bc&quot;,&quot;ab4858a4-ff74-4a91-8a01-b39ed18c073d&quot;,&quot;494b3af7-0e75-4d67-9682-86ab0fae9c17&quot;,&quot;b5748518-fd8d-463d-9a19-aa4ffe9a2add&quot;,&quot;d47af50a-91d2-4200-9bfd-05fc93b4d986&quot;,&quot;9141a926-9a89-4d0f-8a01-4e0e8feb7b20&quot;,&quot;dc4376db-9f9b-47ac-9cd1-d28397e93f38&quot;,&quot;c870ac48-4094-488a-8919-60ca7b8dc11f&quot;,&quot;aeda3176-7c42-46cb-808e-78d4c99cf332&quot;,&quot;a5108de9-78a3-48b7-a528-bb7d8ebf5787&quot;,&quot;6b3c90ed-69cf-4638-acda-d473d2d94d85&quot;,&quot;f0362723-b39e-4da0-83f0-c0610861c777&quot;,&quot;c8c94763-e569-412f-85d3-be6081187eab&quot;,&quot;7e83d902-7d2f-47bd-ba1b-d95779c54b1e&quot;,&quot;47e432a9-7bb7-46e5-8ac1-0f22ce7272de&quot;,&quot;54f16e28-3792-4fc4-81cc-a73c8ebc7553&quot;,&quot;42d58901-13be-430f-9673-9d49efc4ba0a&quot;,&quot;fb829485-f82c-48ae-9d82-c9a9fa494a42&quot;,&quot;9428509c-67b9-4718-acd5-6d53cfb00975&quot;,&quot;873f96ea-a455-46cf-8155-48dbbc61a711&quot;,&quot;f09086ee-eada-49e8-8fe2-e7179c9d007e&quot;,&quot;106e3636-14e1-417f-9459-af061f1e22ef&quot;,&quot;5f806212-a152-4e94-b41f-5f9cbc894bee&quot;,&quot;aa9305fd-8b7b-468e-af1e-1a8a81a14ff6&quot;,&quot;f33b5c1e-aa22-4458-947a-d03cfccc4ba2&quot;,&quot;f028975a-e51b-4cac-8b93-70236c11013f&quot;,&quot;14fd3092-9414-466e-bf9f-0d8755fdc51e&quot;,&quot;d5c3e94b-a735-44cd-8309-8b16f38a47fb&quot;,&quot;aa4e07e6-0021-403e-a944-fcefed99e304&quot;,&quot;f73fb7db-da27-4787-a287-735721a03858&quot;,&quot;7df03893-834f-45f3-8821-bb7e6c79edbb&quot;,&quot;8a09898f-8e9e-48d5-af3d-3a32951c5403&quot;,&quot;5acecccb-b880-4603-aa9f-81e67d3b13e0&quot;,&quot;39c81395-c6c4-4d96-a27f-3d88a72c598e&quot;,&quot;b2f3323e-34d6-41af-b263-49bdbd85b3ed&quot;,&quot;b694bba7-3d27-433d-88d4-e1b3b1bb4352&quot;,&quot;b4eca24e-9b98-44b1-8906-05586b508ae3&quot;,&quot;96c296f1-4022-4175-9a6f-2b610c4edf2f&quot;,&quot;4ff2476a-9dea-4412-bff6-a06ab78a79a7&quot;,&quot;4b1d4514-e2d2-4fa6-800d-b8da7c0ad77b&quot;,&quot;4696cea0-7e17-499a-8075-4b76e7eb1eaf&quot;,&quot;b8299f12-e3a5-4e98-bfd9-0d2557a3c74b&quot;,&quot;fb1f5a42-f05f-4ca6-bb24-43e980f6a3ed&quot;,&quot;86188cdf-e4a2-4dee-803d-d268242486f2&quot;,&quot;061892e7-07a8-4df2-b407-be45fe5ddf0f&quot;,&quot;45da79f3-d71a-4909-a1bb-bc9dd5c64804&quot;,&quot;c4c6f3ea-e889-40de-99c0-e1cb518ce1a2&quot;,&quot;75e25105-fb7e-49dd-b7ce-2671f09628f8&quot;,&quot;d36934e5-d67e-4f61-8554-d1994e5f5b19&quot;,&quot;67013a09-a6cb-43bb-9080-6cc6b5621233&quot;,&quot;3985f1b2-88fe-410d-a789-3b224b586d44&quot;,&quot;9106ba8c-e908-4b4d-b303-89c408b4591e&quot;,&quot;4118de69-6bea-4327-b304-d4da2e541cfa&quot;,&quot;4529c116-2bfe-48d0-a967-eb5bae66439a&quot;,&quot;84432263-e929-4517-9e42-6dd7206190f3&quot;,&quot;9dad4a13-7eef-44fa-a678-0b79351ccf26&quot;,&quot;75ebb140-3913-4bfa-a48f-60febf84f94b&quot;,&quot;f0d432a4-3c0a-47e2-ba9c-03cad25c1a9b&quot;,&quot;81b2b28c-d07c-46c9-9405-8431bb49bf92&quot;,&quot;29e9d02a-0fb1-4b58-81c1-d72cf164b48e&quot;,&quot;05927ef4-3071-4bae-b8b1-920cb3cdf3be&quot;,&quot;a0485a8a-72de-4ed2-9416-6d335481b2ee&quot;,&quot;9d627029-ad15-4671-944b-a31a26005a36&quot;,&quot;7e4be65e-ee59-421e-9014-243b5b2c00b5&quot;,&quot;88c674c9-7a2c-4f90-9962-1b2a3cf12190&quot;,&quot;6f66cb43-7bb0-4b63-97bf-cd1c8b25acc5&quot;,&quot;f8d4f0c0-9547-4a0b-a49c-027820f6396b&quot;,&quot;251a0eab-2736-421d-b67b-f235ee70d226&quot;,&quot;b09c4ec3-81fa-4a52-8157-c5979927a80f&quot;,&quot;e9f06b5a-ae02-4cd0-9fb4-4de24c17a95e&quot;,&quot;0e55f159-6cb8-4916-b1fb-cb0381aacefa&quot;,&quot;15de972e-b3ee-4053-8309-4a398664374b&quot;,&quot;7a043a71-e840-4912-9dd1-ad7e108bff52&quot;,&quot;f12d72ae-2a44-4807-8d9c-6d5174b4b6cb&quot;,&quot;c2637f7e-42c7-49d7-84f3-752d93342820&quot;,&quot;d144a14e-b45d-4e58-b5af-584f0657b552&quot;,&quot;b5ce5bd1-8a82-4494-91be-f349ac7e2a9d&quot;,&quot;e2cf4d5d-d752-4b44-9e24-9a6f39b8e4c7&quot;,&quot;294505dd-7634-44f9-862f-93b3e91021bd&quot;,&quot;204d080e-2ef5-4d13-ae00-fa2a92612204&quot;,&quot;d4844f68-1f4f-4084-a148-60f50394aa15&quot;,&quot;5d79ad18-4014-49e6-9773-15ede1099639&quot;,&quot;ec7d8fe2-2306-4733-8ba6-860f468197ef&quot;,&quot;fa8b495f-a389-462a-b332-990720016b7d&quot;,&quot;870dc29b-10a0-4bd3-a1b1-43130aa8d14a&quot;,&quot;f085ada7-ab2c-4eb2-ac10-e7a0e9d7f7ba&quot;,&quot;d222d379-e1d7-45c7-a512-7ac75b1789ea&quot;,&quot;7e1d53b9-64c2-4ee0-99f1-ba9d874baaad&quot;,&quot;e8971221-e1f2-4192-a352-dff061f1c0a1&quot;,&quot;b5b26f5e-4819-4de2-8102-9cf53d8f0660&quot;,&quot;e2e3d91c-ee5c-4c2b-a1f8-b8e9097f282e&quot;,&quot;5a5865d8-20e7-456c-86c3-e17614c95c00&quot;,&quot;0775ea7f-8a0b-46b7-99b3-46a7fd8f41b3&quot;,&quot;a9fcd7a7-d5a7-435e-9860-b26c66a42240&quot;,&quot;771c06fd-e7f0-4fdc-8d59-e9471e20da0a&quot;,&quot;815562d1-49f7-43de-8e8c-103493d9d563&quot;,&quot;e3c0b29e-225b-48fe-b6db-0db1700c203b&quot;,&quot;def93b23-e7a1-4694-b087-97b7fb5f2403&quot;,&quot;4c8b5277-ffe1-4507-93aa-4c2a2b23fb09&quot;,&quot;18317d3e-2475-4ad4-8aee-22163c941843&quot;,&quot;df2a06a8-414f-4d16-8cf2-f952e340a2a9&quot;,&quot;5244c96c-2d23-4638-9c87-948c6bc64bce&quot;,&quot;b862bee9-bed5-4198-b3e0-14ce3bc6bfa2&quot;,&quot;20b72682-3ced-47c1-acd9-7079a17a4add&quot;,&quot;d8511bca-e714-42c5-b0ec-1b6b8d9a1064&quot;,&quot;bceb4245-d7cc-4bb1-9d45-5f1e05dff39d&quot;,&quot;3acd8cd8-070a-4682-9fe7-bc7fb41a8518&quot;,&quot;cad408f9-cf1c-44b4-bb3e-d974e4d94b38&quot;,&quot;ad741964-4058-478b-8612-2965e1d184ce&quot;,&quot;c29caffa-3ebf-4215-94e0-8b671d5a3707&quot;,&quot;a22996a0-8ac0-494a-8b94-4f8b4ecab9e8&quot;,&quot;fc69a290-c66d-4611-ab12-7481b04058cc&quot;,&quot;bfc688fd-9b6b-45c5-a39d-5c9c91a4d2a1&quot;,&quot;883d0580-ed0a-4c8e-a8ef-5a66daf1d945&quot;,&quot;508d3941-b5e4-4ab3-af36-a75c84d52331&quot;,&quot;cac310fa-4418-45a0-bdc5-93a07ad33686&quot;,&quot;7f06f50c-ddaa-4982-954c-7203e22a6794&quot;,&quot;c392f944-52df-474b-9160-8b7d34beb17e&quot;,&quot;f770435f-6aff-44b2-8040-1e947acd479a&quot;,&quot;1a99d132-5d76-46f2-94e6-583fc1894f8c&quot;,&quot;7ac37534-1dae-481f-bc38-2a403b17d2e8&quot;,&quot;39924854-7b17-45e0-af1d-4049fd38797f&quot;,&quot;ee6e9c36-0855-404c-a357-8afcf76378f9&quot;,&quot;76cdc879-d57b-4681-9b99-47cdf5fc9d5b&quot;,&quot;bd0a981d-ecd9-441f-b1a9-1bdb47ae075e&quot;,&quot;dc99bb3d-b44d-4f1d-838a-c29f9b9a08b8&quot;,&quot;b59ece2b-9574-43c8-8cd0-d0fdb8d95e4e&quot;,&quot;b27c7b7f-7533-424c-9e2e-b523db229828&quot;,&quot;2e569f59-e671-4c80-a916-361b58e96ceb&quot;,&quot;d5dfa65e-23be-4690-b43f-bc551f03e4d6&quot;,&quot;afe20b49-6bed-49ad-98f1-6242b1731969&quot;,&quot;f6d750ce-d3b6-40ad-b619-12bdbc8b84c0&quot;,&quot;b96919af-0b5c-4a06-9c55-e1bf42e50950&quot;,&quot;651c2573-e285-45f7-a9df-5e2973df0c7f&quot;,&quot;e32ff2e4-a502-4abc-af74-977ea377b9a6&quot;,&quot;43af1fbd-d092-4d19-b631-70d433eede1e&quot;,&quot;ac053869-36f3-4bdb-a2ca-dcf74996899d&quot;,&quot;79cc58e0-1869-44cb-9c6a-5840ecc3cfb2&quot;,&quot;20f38a5d-311e-450a-b3f5-5dbb47a06150&quot;,&quot;68e67bbb-1205-423a-9b40-ba1c419b2ce3&quot;,&quot;9022e9b7-9335-47fb-8453-badda9c29ded&quot;,&quot;40c5bccb-4907-438a-a36a-d30b5ff874fe&quot;,&quot;e2412e94-577f-49b2-88a3-950623a00427&quot;,&quot;629125b2-7e3c-4a86-bd34-52e587375fe3&quot;,&quot;95430444-1a93-4106-ab7d-792de29a5755&quot;,&quot;3ffd8b9b-8bd5-4fe3-82c7-2831dc8faa56&quot;,&quot;1b9c8246-1fd1-4e2a-83e0-db1d89055fe6&quot;,&quot;9d6dea99-a4ad-4bf6-b7f7-6e7600b8e1d2&quot;,&quot;93d65428-3389-4f9b-b279-63d586d2afa4&quot;,&quot;56c8f60f-4048-4b5f-a2cb-34e9cac8fb4a&quot;,&quot;b72b21d3-8848-4e83-8ad3-95dfd84607ef&quot;,&quot;b8950e66-8b4e-4d23-9d59-d54551e99575&quot;,&quot;c312ea2c-b803-45da-bdf5-4ea8a052643b&quot;,&quot;784e7812-22fc-433e-8b29-c330d60f3304&quot;,&quot;fc8dc0bd-4f65-4bb4-b1be-db3c36dd007c&quot;,&quot;f0f840a5-0392-4f60-bbae-89d64c18eeab&quot;,&quot;570d6553-3f94-412e-a071-c1eee305cbf1&quot;,&quot;c95d97a4-18a9-424b-a153-b3c64b9f103e&quot;,&quot;3b1914a9-1442-42ed-9040-48233459bbbf&quot;,&quot;b84cdecb-9fcc-4942-b317-0525b2d20af6&quot;,&quot;88ebf997-ec60-46e1-87af-ad7dfe80e42e&quot;,&quot;9c903e46-86d7-4b93-b180-034a0e68bb4b&quot;,&quot;0c650308-76b5-4309-9120-2b3eb4f5c2a0&quot;,&quot;d51676cf-a170-4eeb-ac0d-1880e2ac9741&quot;,&quot;c413af37-0884-48ef-9b00-dece6ba91cbf&quot;,&quot;68e8b695-9cfe-4321-9e23-57c1b8aa8992&quot;,&quot;cd7a2017-fe64-41c7-920f-7bf7bf4841c3&quot;,&quot;8d6c9772-ce6b-43d7-9097-bd095457e9e1&quot;,&quot;cba6d59c-91e2-4e66-8403-a43b60c1e0e0&quot;,&quot;36607814-448d-4681-801b-aa2bb1670d89&quot;,&quot;6530a26e-1b05-42f8-a381-ec271a88a162&quot;,&quot;28921c47-5149-4091-b0de-cabda3b90136&quot;,&quot;7f534320-289b-4d77-bae8-45b26a2e81e9&quot;,&quot;ec5d53dd-076c-4d13-b5ab-8faec8e52d28&quot;,&quot;e5d919cf-f606-4946-995c-9aa7aa04d3e4&quot;,&quot;f5af20a2-acbb-4798-9e57-aac68929228b&quot;,&quot;a3f6c2fa-c318-463d-8beb-911542ed0276&quot;,&quot;0dcb6aa6-e0d4-45b1-a4f6-c39a482c75d5&quot;,&quot;6fb7cdbd-00e7-4fb6-a5b7-cea80911b49e&quot;,&quot;e751f442-736f-4114-ab34-0b709930291b&quot;,&quot;232c8b3c-0d10-4389-8dba-152520ce51d2&quot;,&quot;a2ab0a3b-f13b-4967-b39c-deac777fc037&quot;,&quot;df70e739-673f-4340-af72-a9fb06661015&quot;,&quot;d25afd43-ee7b-4077-8bfb-7dbfcae49e95&quot;,&quot;aa19ab08-7e26-4a4f-9e46-e3844ca3fdb4&quot;,&quot;1ae8f333-75e5-4bfd-a5e4-261b6f047a9c&quot;,&quot;a0249bc9-a14c-4c03-b482-aec07113c8e7&quot;,&quot;629fc33d-3aee-42d0-9384-5ea2e349601d&quot;,&quot;18a3cc4c-2ebc-41b2-b74b-215cdaae111f&quot;,&quot;d30840f1-b1cf-4e23-9165-e3f4e98c06ca&quot;,&quot;64566530-97e7-4037-8c3e-a7c5414efe5b&quot;,&quot;1ad52e47-ed4f-425c-b673-1d2d0f569b25&quot;,&quot;d2462914-898e-45dc-ac68-7739ac1a4357&quot;,&quot;1057460a-24d7-416b-844e-fe12937906a4&quot;,&quot;16235454-43fb-4bf4-a9ec-1b545d295021&quot;,&quot;04dd7481-092c-446c-8489-ea24f6c1fc05&quot;,&quot;239d7010-d4e0-4b2c-81be-85c6460193ac&quot;,&quot;57b4d605-dc1e-47cd-80b2-c5e3ef3d2b6f&quot;,&quot;487a5c1d-1d48-4f52-9af1-e54661a129fa&quot;,&quot;6b3f5f3f-7be6-4697-ac64-ab16f1ffb6f9&quot;,&quot;ede07d5d-e247-4256-8adc-19dbe8d6ad0e&quot;,&quot;a5785f32-e197-4439-8acf-5aaf6f1cbc40&quot;,&quot;c777dac0-0849-41e8-94fd-25d0cb237276&quot;,&quot;a65d3128-5e02-4291-abf5-2027af563f4d&quot;,&quot;ca76fd58-1409-4732-b28b-726fe7bee14c&quot;,&quot;3d865545-9946-4e3f-ac91-c13e1973a2e4&quot;,&quot;d098c3b2-65de-4fde-814d-5110c8cdfcd3&quot;,&quot;79ea271c-163b-46c8-a1cb-bf0175a7938e&quot;,&quot;4f8d9197-8295-4c14-b34c-a5c793188c95&quot;,&quot;29d0d1ac-dfa5-4592-8a5d-1868e021bac7&quot;,&quot;e3b86382-932d-4df6-9170-aa768777c282&quot;,&quot;f6715e02-085f-41fc-8f66-7f4902998fa9&quot;,&quot;eb136bae-9041-4f30-bba7-17a4af1ef2b3&quot;,&quot;1c9fb93a-e37a-4139-b433-c0fbc3314847&quot;,&quot;973df2a8-1a26-4bb4-b970-2cc4c779db8d&quot;,&quot;8856162b-7850-4db5-9914-d152b75fcc6a&quot;,&quot;37f50a47-749e-4fa3-a46c-cfcdaff9461b&quot;,&quot;1f2f7293-bb1e-4e1b-ab8d-d0dbbc15ea18&quot;,&quot;1addd8a6-d70f-4157-9419-08b329c2bb24&quot;,&quot;21a099b0-fda0-47b9-b13a-c3ac66097d58&quot;,&quot;85dcac99-e364-4eb2-a644-f330c73bcee7&quot;,&quot;3d32d79e-a704-421a-8f1e-798dd917a931&quot;,&quot;77d6040a-7e96-4def-a79a-22562ed8790f&quot;,&quot;18a220b8-6f40-440f-b791-a3dc119ab03b&quot;,&quot;739804c9-e93f-463d-9493-90642b49b01a&quot;,&quot;d7a57c82-854b-4c65-a460-ee68139fd26a&quot;,&quot;27b3b96e-e1b5-43e6-9e9a-74d75b4229ed&quot;,&quot;c1e352b2-1b49-46c1-b31c-6509ad8c1658&quot;,&quot;3efaf480-e962-4656-90bc-6c5130e4ee5f&quot;,&quot;d3d95a2c-ac0f-4106-a8e4-d124ffb023fa&quot;,&quot;ecc42ad9-6cf3-442a-905f-ae6c861ac924&quot;,&quot;58239fb7-a7a8-4f7d-8725-94aa665950b4&quot;,&quot;800ecdd0-c6c2-4ec7-9b4b-6c10815ec836&quot;,&quot;44e76f0a-f68b-4173-94ec-c3473b9743db&quot;,&quot;415cb278-365c-4a27-9776-7ab471ffb4b3&quot;,&quot;ffe95ffe-9496-4190-b6d2-d7fbd04763ad&quot;,&quot;163429ef-ec0a-4c32-a3c1-6cb72215a29f&quot;,&quot;c8f1e9b9-c1ac-474a-a08d-39d9ccbaecd5&quot;,&quot;92385520-a557-497f-8753-e010b0945a65&quot;,&quot;a6b18bbd-3398-4f00-b5ad-7c820d67e9e1&quot;,&quot;b1022efc-5f04-4dff-b5fc-7d16d9e5e12b&quot;,&quot;2c7907b2-5040-42b6-a760-70554ea2997e&quot;,&quot;b05eaa43-22ca-4cd0-8d3b-000c62b9c6f2&quot;,&quot;6d66294e-c875-4da9-81ff-a369a3a390fc&quot;,&quot;7b4ff9f2-c5d7-4dd4-aa15-14967961f5f0&quot;,&quot;1766b089-411a-4cd7-86a4-1a98f6625841&quot;,&quot;10881310-8e09-45dd-b45d-31922182bbc2&quot;,&quot;ee8a4687-5456-492a-a578-64f5978b96c8&quot;,&quot;69ab4205-32a2-4234-b8ba-4513b30dbe36&quot;,&quot;f91ebcbd-26e7-4c8a-bc72-575ee0a418d9&quot;,&quot;17c9668f-4dc3-411e-95db-4829f39bc963&quot;,&quot;48fef604-0f5f-42ce-ae93-6caca626f4d6&quot;,&quot;7283f519-32dc-4f5d-8ee7-0ef6e3a4b454&quot;,&quot;0b43c51b-b7ee-4c6c-b2c2-1fd2df368b2c&quot;,&quot;8130f286-e155-4cfb-bb81-ebf6dc349465&quot;,&quot;cfc781e3-ec64-4bc5-a1d5-026c8b8393a1&quot;,&quot;be944789-0d4f-4dc6-819f-eee055c7b99f&quot;,&quot;47317787-ea7c-4cb8-92b6-1159794c5150&quot;,&quot;866d0ae7-e061-4fde-a116-53148f359889&quot;,&quot;e84c7771-efa5-4c19-afc6-9e8b82454a2a&quot;,&quot;6ab9ef2c-3188-40d5-8c9a-b9b69841be89&quot;,&quot;e60ef47f-1a95-439c-9334-3e9714632b91&quot;,&quot;5809a1b8-e2c1-4f21-a15c-425b95560a29&quot;,&quot;16a005be-d3cd-4236-a2a0-c38c7b4de526&quot;,&quot;790a11bd-1baf-429b-a2d3-8197dbc9be98&quot;,&quot;7f3dd75c-1081-4e77-bea1-c2b034e9c5f0&quot;,&quot;e75e3075-b15a-4d20-bb01-d13867bdec2f&quot;,&quot;d847f943-12b7-414c-a96f-8b07fe5b0422&quot;,&quot;016e4787-fadf-44c0-bef5-947028fb8aad&quot;,&quot;d072d0a0-43c2-44f5-aa3b-9daa1051d614&quot;,&quot;f3090cce-b5da-4b0d-8a0c-9f9f725d3c9c&quot;,&quot;5493e115-b7fa-4015-a685-6aedc88672f8&quot;,&quot;3761e0b9-5850-4e96-a17d-781033549e3e&quot;,&quot;8006fcb0-c4bd-49f0-a657-32c948ec1c7b&quot;,&quot;1d440c93-6803-49d2-bc0a-5f086065e265&quot;,&quot;2922c3dc-4225-4e44-ac60-d96d9bb36b78&quot;,&quot;376e987f-e135-4f91-87a2-2bdde660c7c4&quot;,&quot;ab0f8b8d-17dc-4cb4-b43c-4f0aa3c17adb&quot;,&quot;8caa195d-4369-41a3-ad5e-64ac87e8e414&quot;,&quot;43bb6b99-40a3-48d6-9ce7-173f275010b6&quot;,&quot;a64e9509-39c4-421d-b3a9-82ca7baa7eb7&quot;,&quot;9b8a3885-39be-41bc-b8dd-e1742cf6cd98&quot;,&quot;d637c233-afcf-446d-ba80-04e53f376e9c&quot;,&quot;65d08055-d524-4f50-95fb-82f29216053a&quot;,&quot;76356ac5-2c9c-42c1-baa9-255f83cb7824&quot;,&quot;2818ac85-fe6b-4ecc-a5c0-56b08654cc97&quot;,&quot;538b47cd-354d-4413-9bc7-90b0a5aae509&quot;,&quot;d6174d41-e91a-4fec-b252-abcf28c5fa95&quot;,&quot;ecaf68f3-8483-468b-b480-da8df16fd352&quot;,&quot;1fc86be7-0583-42de-b7e3-e4423bb007e8&quot;,&quot;57cc7255-654e-4b3c-836d-ae0f7d740dcc&quot;,&quot;fb28d406-5414-48f1-8b79-8bf9dc9a0d19&quot;,&quot;469fc491-af89-40c1-afa6-c678453953a3&quot;,&quot;1c16dbf3-9895-493f-9e5b-ed08af4d0874&quot;,&quot;f3c2c3f2-3cd5-4f37-a7c7-a1efa860fdcd&quot;,&quot;1acc3314-25dc-4d7d-b110-373826db635e&quot;,&quot;b91a515d-1bbb-4751-97f9-ecc18ff96241&quot;,&quot;2e4846ad-db5b-4a7d-9871-4216d1e34538&quot;,&quot;1efd700c-320f-4ecc-805a-ed3f84f492fa&quot;,&quot;f94fbeaf-14ca-49c7-adc8-afb94f65e808&quot;,&quot;e3fb870c-9dee-4121-89cd-18b92990c19c&quot;,&quot;5963fb44-f9fd-4bc9-a620-d5701d24a15f&quot;,&quot;989eb301-ad74-4eed-921a-01ff40e04079&quot;,&quot;9e6a371d-6eb7-4f65-bd1e-a9d8c26c87c9&quot;,&quot;3f6e485b-a463-4197-bec0-e9361e8b720c&quot;,&quot;c62efa34-b028-4e6d-b386-073fc96e2fa2&quot;,&quot;da0ab921-5d94-42b3-8f38-2bc333a6b7b9&quot;,&quot;eb7b1845-4b17-4835-84ca-32e05976fd8c&quot;,&quot;2f985d83-05a1-4828-97d5-143f7dd0bd7e&quot;,&quot;6618273f-8df3-4fd3-89e9-4eff662c4d8c&quot;,&quot;f49998c3-33e8-406a-8492-411059075c89&quot;,&quot;e856df85-7c3b-49dd-b114-3ca1e2f86df2&quot;,&quot;8c7b2d9e-ec33-4ebd-a3af-439dadc97d30&quot;,&quot;b03c0587-2825-41d4-8bf6-a4a8caf246f0&quot;,&quot;1b4287aa-a29d-4c9a-bd2f-d04fc0598b72&quot;,&quot;02471732-c35c-4fe9-9251-1f1cf3d500d5&quot;,&quot;ce60e6aa-2695-4403-9d08-9886e92f7bf1&quot;,&quot;cd5ac04f-9803-45cc-9662-704d140b4207&quot;,&quot;3035272d-7819-4c4b-9c93-2f73c796b3e9&quot;,&quot;5c39c781-635e-4840-b0bd-29476ae166de&quot;,&quot;5c96752d-d386-4309-84c3-e822ac500505&quot;,&quot;e6573471-208a-45c7-96db-3663e3b43e7d&quot;,&quot;43855174-a7a8-4ccb-b4da-845c4f868178&quot;,&quot;5e80566a-909f-49dd-8e1a-8270000d4e3a&quot;,&quot;2ad63730-fc23-4ed1-9e99-996f64f9a0c1&quot;,&quot;a67e5559-73ca-4e21-97f8-98ccb5d0fdbe&quot;,&quot;ebe0dbbb-d996-4101-ac1a-e70f81b83fe5&quot;,&quot;c9d78aad-0c61-4016-91cc-6d47007ec5b5&quot;,&quot;cd0f7332-38d7-4fc9-b101-19ecec2b6e9a&quot;,&quot;68ab9286-cdb9-49b3-90d2-16e4c7d7831c&quot;,&quot;66ff92ff-05c9-4158-b405-cad759e75788&quot;,&quot;b2eefce7-da2a-44f3-96da-25575525029a&quot;,&quot;2daea7b4-389b-492c-8398-3590cc2b3b0e&quot;,&quot;fc10bb73-76c1-4cc1-9235-2cdb05bd6ada&quot;,&quot;6aeb0a49-e18f-48e2-a08a-b99fe9192ae6&quot;,&quot;17e9196f-436e-492c-ba5e-1e7ae12ef81c&quot;,&quot;851d51aa-8e6d-4533-934a-2907c47af962&quot;,&quot;24972bc7-7d7e-40a5-8255-f0dd4b729dda&quot;,&quot;67b19af3-1952-434c-af9f-b2b58476daf2&quot;,&quot;d77e7df1-eeb9-42be-bbd8-5fa6a261020f&quot;,&quot;489bd458-ffe0-4e72-a4f4-d55b028d8424&quot;,&quot;cb8c1528-9ee1-4977-9dfc-cadfcc06ebe5&quot;,&quot;3f492ea1-850e-450c-b6ce-35662b112740&quot;,&quot;bb55e1a0-c7aa-4bb5-9c7a-48e8805db1a1&quot;,&quot;229e32c2-ebd6-49ee-a81c-cfb0643c7ea1&quot;,&quot;31e81610-56b7-452e-a4e7-587ed4eb4052&quot;,&quot;e028e7df-c7a3-4900-a22a-e93f0cacef57&quot;,&quot;31781291-82df-4f72-bdad-738136352bca&quot;,&quot;bb607f3a-8f79-45f8-8473-107ebc8ba2d9&quot;,&quot;78459917-c729-434d-a0bd-28a69ae4c870&quot;,&quot;511a0358-7a3b-40fd-bf7d-6f2028a13eca&quot;,&quot;2f9ea5e6-d166-4c87-9f33-5a4f71d9fd65&quot;,&quot;b6ee0cd9-fc04-4b6f-9a4e-5ea1125ca5df&quot;,&quot;f9adfcf6-5cdf-4970-a28f-9b9ca0d64a4d&quot;,&quot;b4b0d690-6e52-418c-9db9-ccecf8892407&quot;,&quot;1c4c2c67-1d36-4797-a406-fe2ea090170c&quot;,&quot;c9056b4e-ec7c-4906-bb1f-f2bb40fd2378&quot;,&quot;aafa5d5f-6fd5-4561-adec-4e58e3c9eb78&quot;,&quot;b929ab25-9184-4794-ac4c-9afa79f86ead&quot;,&quot;c10f4d45-b7d1-4635-8dc1-7dc80a2fde73&quot;,&quot;cf4024ec-1f34-4a65-9035-9bdac5781a95&quot;,&quot;5a26e482-3f07-4070-baed-0b1584a07ff5&quot;,&quot;2396c2a3-a270-4048-8f56-f25e5a862fbd&quot;,&quot;a068d49f-9584-43d2-9be5-49d42b3b3964&quot;,&quot;ae38e3b2-9e60-4166-b118-fc0b56ae1f3d&quot;,&quot;66415899-ff08-4cb7-8632-58096e697e85&quot;,&quot;ca0f167a-7e37-438c-aca7-087a2f1265fd&quot;,&quot;fbae84e5-184d-4d41-a149-93d717315924&quot;,&quot;47bfe101-c6fd-43cd-9523-269dcc4f7b5a&quot;,&quot;2cf1a401-01e5-4fcf-bf00-035af48a233f&quot;,&quot;323e8008-0868-4584-8b11-52b3579b6af3&quot;,&quot;4076103a-cb54-4c64-a1a8-1bf28f979ee6&quot;,&quot;b2644589-ce01-4a21-882e-d2fee16ca7cd&quot;,&quot;56c152af-eae0-4701-8ea7-ba708ccb2cb4&quot;,&quot;4d7438fd-e504-41ff-a3d5-baab89745752&quot;,&quot;10949419-55d1-4f89-a468-e014c2ec872c&quot;,&quot;bca79e5d-6c84-4f0f-b145-2af4854c4bb4&quot;,&quot;63f773d8-d8b9-4a96-98d8-b2654fc35e0a&quot;,&quot;f26a6a1c-e0fe-41a8-ac75-68f0e83cb001&quot;,&quot;36fa019c-5b51-4f71-a73d-45d606894069&quot;,&quot;11a2ea4e-9857-4e8c-9652-0e82df1882e2&quot;,&quot;0fe06321-fe8a-400f-bb92-2091faaa5b3c&quot;,&quot;43210711-8d5e-4e36-b528-0423ba3d890b&quot;,&quot;c726d8b8-7fbf-4de7-8378-96f6b6879a4d&quot;,&quot;a8071059-9b91-42d6-9ebe-a97c0f679ce1&quot;,&quot;d239e895-8e64-462f-b132-af9e18885dc4&quot;,&quot;15586aa8-fd86-46cc-8b21-7cbc321247ab&quot;,&quot;ca0f8f41-a4fa-4b02-8de4-e26598196257&quot;,&quot;d079414f-8676-4e9d-87fa-37c64bc9761c&quot;,&quot;1659d09e-2bba-40dc-be7a-69f58d0c9973&quot;,&quot;7f43bb01-ea1a-4a56-b8ef-76797ece1a58&quot;,&quot;7626f566-1c9c-486e-9b1c-79a1a4f3d6da&quot;,&quot;5449885f-5936-43dc-9485-63f904b38477&quot;,&quot;884f829a-5e0f-422f-94b4-853f8969b791&quot;,&quot;dd80f3dd-3a58-4edc-bb6c-a91224f4841a&quot;,&quot;76122f33-975d-4f27-85fc-87d6d18e697f&quot;,&quot;3187fb02-9226-4621-8552-4b4ddb0dbdff&quot;,&quot;e58e5e19-f9c9-41d3-8957-cef1427acbdd&quot;,&quot;30faed64-22f2-47d4-9149-bbe1eee4ea83&quot;,&quot;9c80a872-3151-43bc-bf75-c9a7cf81cc3e&quot;,&quot;a4c6b09a-dd04-4c69-bd46-b60c80b4afe6&quot;,&quot;06dde418-b432-424f-9ce7-9ceeb395ee1c&quot;,&quot;fda6ccd5-8ec2-4d7b-a345-9c8481ac7d3a&quot;,&quot;559c1cfd-dd70-44af-8afc-1861ce165973&quot;,&quot;f18b526e-04a5-4571-b447-0b65f636053a&quot;,&quot;0136d3f2-fe14-4d40-b542-bf69085fe3c9&quot;,&quot;1e6ccc00-aadd-45d9-a39c-d2eada07f09a&quot;,&quot;57459120-7a6d-495b-a2c1-bd4361abdd03&quot;,&quot;84ed2583-d33d-47d4-9031-d59c4539158c&quot;,&quot;774dba30-9306-447d-a2ac-f178d35663c3&quot;,&quot;56df8a5f-0ace-47ac-a806-fdba9ca34566&quot;,&quot;ed48512d-ab0e-41cc-a3ce-0abb653bc187&quot;,&quot;8508e801-942b-4316-8b6b-0e99baa6f429&quot;,&quot;3ecee450-d7c3-4829-90ca-7b0561f7071e&quot;,&quot;172c6823-000c-4ca2-bfde-1154cae294ae&quot;,&quot;ef3d3596-edd5-4ed7-9331-a935f19b3676&quot;,&quot;c57da43f-1a20-41ac-8690-6ed3ef6770f4&quot;,&quot;5ded7565-9389-4d64-bee9-c94ad49dca42&quot;,&quot;70060995-fee1-4229-9724-45117a51dfb5&quot;,&quot;50ebc7c3-36a7-485b-86de-b1218d8311cf&quot;,&quot;a17d9b90-5100-4794-8e1e-5769db8f9ab0&quot;,&quot;8bfc30c0-f08e-4bbd-8ab6-73f5fa27a99a&quot;,&quot;b4bd88a6-634f-4614-b856-bfac7310b3b5&quot;,&quot;ba5ca531-44fb-4609-8f88-a79f4fce6f29&quot;,&quot;7d649c88-1ba3-4d68-8eac-3e68b609597a&quot;,&quot;5eec159a-0827-4195-8d9e-b8bd1d560b3b&quot;,&quot;aaeb7a75-4b6a-4bc5-b18b-78dc2afb2a31&quot;,&quot;daf11222-6fa2-48c8-9b58-057e6805b90b&quot;,&quot;13e00d75-52f8-412d-b5e7-192d87d30e5c&quot;,&quot;6316ca99-bdae-4bc1-8e51-486c251d624b&quot;,&quot;b9da3392-1c26-4c83-96f4-77552183b1f2&quot;,&quot;4a7eab86-b61c-40ef-b496-907da828a72c&quot;,&quot;58b9d51f-3963-4ee3-a251-72b4fae7aa8e&quot;,&quot;ec9bcc00-4ebd-4a78-8d72-510086fde7da&quot;,&quot;c15886c4-4331-4d7e-a928-955d2ab5453c&quot;,&quot;ae4ff489-e087-4788-b1e7-1e345b2d35da&quot;,&quot;c29d97cb-5279-4b91-b736-15abc8ea8de1&quot;,&quot;1cb7c702-ff4b-4756-8785-7bff3396d08c&quot;,&quot;092148d6-cb14-429e-b4bb-3ad9517657e4&quot;,&quot;480944d3-f5f5-44de-8566-213c3c68aefa&quot;,&quot;fe64a207-7fa7-493e-82ee-980346f86c83&quot;,&quot;57308752-6dda-4d2a-a49c-143a7f4ebaa3&quot;,&quot;699a83ae-4f9e-4f1a-8721-dbae8c8f10f7&quot;,&quot;c2526f1f-96f4-476c-be09-c2cdf0326939&quot;,&quot;d999b724-6969-43e9-a880-01aaf425157d&quot;,&quot;154f559e-cbf2-4dee-a5cd-dfe5382a1f18&quot;,&quot;b415a27b-14bf-48c6-a4c7-72cb1fe9a9b2&quot;,&quot;86e8bfb0-0de8-4e9e-9651-49614b783645&quot;,&quot;d426d647-9a93-4e63-8d81-c1dc1b614ee3&quot;,&quot;1c476a88-7979-47bf-b936-cc3669dca9b3&quot;,&quot;6e9827f9-d34c-4964-9463-7588a3dd5a9c&quot;,&quot;569aff07-ef0d-4ae1-987e-37d62d9f1864&quot;,&quot;c87a8548-f5b5-42d1-9758-54eba7e4b5e2&quot;,&quot;0318ca97-4374-4be4-bcc6-3afd3bc2eb0e&quot;,&quot;a5807799-6101-4614-a083-d68bc0bc89ee&quot;,&quot;ad6c17c1-cbe6-49c1-8bd5-7e1374faf3c3&quot;,&quot;2e01a874-51e9-4130-9f61-eb68eb00d83e&quot;,&quot;f1a8ee0a-5d24-4dba-9e6c-185f3a7e3f17&quot;,&quot;92f4ce26-a3a0-4af2-8139-7d9a61cde9a6&quot;,&quot;17163751-22fc-454f-b201-af289fbc748a&quot;,&quot;8c9520d3-f22c-4365-b396-7c878e26a645&quot;,&quot;d70dfa1d-707c-4bc3-b2d6-35dc8252d8cb&quot;,&quot;fd94643e-dc6f-4a16-8a83-d94158cef648&quot;,&quot;dffc837a-59c1-4416-a1df-9f6daa1cfeee&quot;,&quot;52a959c6-cf50-4639-ab46-e168792dfb12&quot;,&quot;e634fc67-5982-477c-aac7-aaab7cd8f9fd&quot;,&quot;6a0e13c9-188d-40f4-8eda-3097f70dde51&quot;,&quot;14f3d401-a254-42e4-aa3b-495d1451d538&quot;,&quot;4ac81167-f83e-4a9c-a479-c1cfa1bc7082&quot;,&quot;16736212-d7dd-491b-bedc-afda508d5df2&quot;,&quot;f38f0239-bb87-45e9-8916-6ede5b5d9de9&quot;,&quot;5ded775a-a83e-4e52-9779-0c90750af15c&quot;,&quot;73a8469c-9e84-4cf1-89d4-f4f21a56c223&quot;,&quot;7bbc5e60-c81f-4088-8508-ea67f9a056c9&quot;,&quot;ded03128-44b4-4942-895c-2f49765b5c26&quot;,&quot;9ffd8df7-2902-4c83-933e-4c7ca2300aff&quot;,&quot;339d9843-bde1-4520-855c-bbbe01ab6fc8&quot;,&quot;9844db5f-9394-4deb-99aa-e8393433cab3&quot;,&quot;c36ca1e4-0676-4e6c-afb0-85bb80972d7d&quot;,&quot;fae4a426-4f61-49e3-a74c-4524f61a5ec1&quot;,&quot;73493ab4-8b87-4ecd-921e-be557939341b&quot;,&quot;96124821-245e-434a-a3b0-ebff5b69e5fd&quot;,&quot;92796cb0-1b11-42f5-8d01-01a343204ed8&quot;,&quot;0621c13a-bf6c-4c98-a3d5-905310ddac3d&quot;,&quot;6ce74de0-706a-4a3a-8ee4-a316f447c629&quot;,&quot;56bb36e2-50f4-4470-b6a3-4b59c67577e6&quot;,&quot;404bde09-4a0b-4b67-aaf7-0269383df5d8&quot;,&quot;740a3c34-8697-478c-9e8e-a7d2eade4973&quot;,&quot;aa72159d-9a95-4219-9fc0-b27b832fc1a7&quot;,&quot;446ed213-28cd-4a3d-afa6-af74452958a0&quot;,&quot;e22cd8f2-058f-4bb0-9605-086fe4d02947&quot;,&quot;7f037ce1-b1ec-4618-a378-fde37fd00085&quot;,&quot;c8c99f67-5e53-4ee6-8e01-3e45c79c5ebc&quot;,&quot;6f8540b6-a11a-4ba8-8202-8cbb554a2622&quot;,&quot;74f84506-6886-4c00-9111-e5b28b4315ae&quot;,&quot;df917bf6-da0a-45fb-8e54-084fb4bbea9d&quot;,&quot;6981769b-2a15-4009-bcd1-52cf16e4d8c1&quot;,&quot;e8880860-6de2-48ed-9585-b7ce536d9cc8&quot;,&quot;4110076c-c5a9-4667-9a50-123271f41680&quot;,&quot;a611a999-ee41-4137-a10b-436dc49f5bee&quot;,&quot;41da55ee-7ee1-44f7-a1b0-e020b220d07c&quot;,&quot;4f1a1c2a-c32d-4e61-8b95-907b3d4ad404&quot;,&quot;2382e813-0c1a-4917-98f8-cb125f70731b&quot;,&quot;d9213cd6-510e-4e57-8760-f71298989f9f&quot;,&quot;25f0ba6f-5551-4e81-b4fb-a0f5680db12d&quot;,&quot;0b07a81f-ef0f-4f4d-b677-88c232e16d43&quot;,&quot;c9de6b5e-3d10-43fb-a95d-ef76e67dac6a&quot;,&quot;e63b2f1c-46dc-484b-8cd4-596339fe8b10&quot;,&quot;97465b7d-8ac4-41f5-9063-39abae549df0&quot;,&quot;73df972c-e2b3-439b-9344-aae16376aa11&quot;,&quot;1f9e5e62-e591-4855-b316-41b32e1a200f&quot;,&quot;00822448-f734-40ed-ae2a-1a9a8d0744ce&quot;,&quot;1f9573c7-9210-4c78-869c-ac4f162495aa&quot;,&quot;98599eb7-ec7f-443f-8306-02dc100ca318&quot;,&quot;5391c31f-c7b4-45a4-a5db-db5971fded70&quot;,&quot;a85f2def-47f7-4a9d-ab7f-c3bb53db7e0f&quot;,&quot;e00fb85b-3012-4802-87a0-7d1350415a54&quot;,&quot;e8e03b7a-da98-4cba-8bce-d019fa36b16d&quot;,&quot;da377711-c22a-4fd5-83fd-27a93c3eddd8&quot;,&quot;e90bf395-aa3c-44a8-81f7-8b2441e29197&quot;,&quot;822e6a41-3ed4-4d51-ac52-37abf71348a7&quot;,&quot;1d765e7b-6037-4efc-9a13-c2546c3806ba&quot;,&quot;3ca280da-cffa-41d5-893d-9b808fb7c210&quot;,&quot;5a3e4a4d-9283-4c23-b556-ddc02245b82a&quot;,&quot;03363226-1760-4681-a818-fa7a2f3e1986&quot;,&quot;60aefebf-08d5-432f-9575-53ad7edbb6b1&quot;,&quot;b9d40f8b-cb89-4e75-8701-f0f0bb103a7c&quot;,&quot;1a0d41d6-61e1-4796-97f4-cd13da43b328&quot;,&quot;a3449eaf-afdc-42ba-aaed-430a2e2df3df&quot;,&quot;ac9ea99e-b7ab-4dd2-904d-c6f25f49fe15&quot;,&quot;733d7d1f-ec82-4986-aeb0-e65f9a234693&quot;,&quot;aab7a113-531b-49d0-834d-b27e89d1734d&quot;,&quot;368482c5-3d38-4edd-af73-807b5ad46f72&quot;,&quot;cae2c8c3-bbc4-4252-9447-25276eaa0d04&quot;,&quot;6bd2122f-0653-4c47-97e5-a8e71caaf5cf&quot;,&quot;9aa914ee-fc7e-49c8-9010-4ff09d685e04&quot;,&quot;fa4f1b4a-ea97-494e-9439-4185fc0bf674&quot;,&quot;fc6a7c98-e0e0-4a4f-9996-abcb43545d8c&quot;,&quot;a0e6eb4b-f3d7-446b-b94c-b46b75beee55&quot;,&quot;6a35805a-8342-4f09-91a0-1118cdb8c1d4&quot;,&quot;217ffdd0-874e-45a3-ab66-e1cd798e55c1&quot;,&quot;7139ac15-f5b4-4705-a173-422297bc51f0&quot;,&quot;b36d1c64-1440-4bf1-9a8e-d01c213bb00f&quot;,&quot;283d12d7-a532-4e42-9549-a3f27ad9f05b&quot;,&quot;29afa2ec-9e79-4a22-9da8-3164e5083a10&quot;,&quot;8d647928-ff6c-4dd0-8db0-d97c9ed6d4c3&quot;,&quot;7a958499-280a-46dd-852c-a29f0c0f9040&quot;,&quot;46957a02-5d7d-4cfd-8f83-5cf3bc430cc7&quot;,&quot;6293add3-1ccb-4af3-99f1-9b952911b37a&quot;,&quot;35483b59-25cb-4991-9d44-2deb72e479dc&quot;,&quot;9fd6e8ce-5392-42d6-a44d-5be66e9604a6&quot;,&quot;7fa1ff9a-938f-4ec6-8090-a71156151822&quot;,&quot;015d8747-772d-4011-8067-42c06859ca86&quot;,&quot;419af8ec-9dc8-4f22-bd29-89407389cd4d&quot;,&quot;91dd2db6-6f4d-49be-a4d6-d2bc7a9c6eea&quot;,&quot;436e0006-0577-4362-bbb3-87ae14858777&quot;,&quot;6588fc0b-5c3d-49a7-a9c9-bdd5f621f2d5&quot;,&quot;e747ad51-f6ee-406a-9bb9-a385e3ef5eaf&quot;,&quot;10660acb-8262-4fa2-9ecf-1a943b14e5e8&quot;,&quot;7f5433eb-634a-4260-9228-1d0242afe9ff&quot;,&quot;e1946afe-14aa-4137-9b33-0c22bbeabb07&quot;,&quot;6131f188-cffe-44c5-ad6d-817121cb409a&quot;,&quot;d959ad5e-3e57-4f4d-9130-b01c355e2026&quot;,&quot;d13230ac-b509-41e5-aba8-895e06c45008&quot;,&quot;a2f280de-1599-493d-a12d-36a70f67da11&quot;,&quot;02466750-2f1e-466c-8924-c90841b88193&quot;,&quot;e575215c-88ec-4212-8635-23257a78a321&quot;,&quot;df6a18c8-f439-4921-8f8b-3d2a0c144684&quot;,&quot;94153f2b-b5fa-4f9d-8a16-5231db955b82&quot;,&quot;83bfb7b3-1b80-40ec-af74-8d966c314ede&quot;,&quot;e62373c6-9a8f-4f3d-bec8-323f3d827c4b&quot;,&quot;3e2b232d-7263-4220-bfae-245dde905dce&quot;,&quot;51378d24-829f-4d90-b787-76bec51883ec&quot;,&quot;e546b86f-ade8-4d8a-90fd-32bfaf9398eb&quot;,&quot;723b5a6f-71d3-4317-8d97-c3943c576016&quot;,&quot;cb5b7903-37a8-4f59-9463-26440850e317&quot;,&quot;523e0f7f-96fe-42ee-ba6d-7d1fd4a914fd&quot;,&quot;975ada41-00e0-4853-8de3-649a7e9fa47d&quot;,&quot;5265f485-355b-4fbe-9593-1f84c7467454&quot;,&quot;4c1de67d-23a9-4214-8f8a-1517644f2d59&quot;,&quot;59116211-74b8-49ab-9403-6fc9bb02f03f&quot;,&quot;3e2e2fcd-7c75-4348-bc1b-42cec0e3d8bd&quot;,&quot;b847ef65-5391-4614-85f7-7dda7da88831&quot;,&quot;1e61cbeb-ad55-461d-9e77-c5cd5d93dfcd&quot;,&quot;c15fca2a-79d6-4559-9b7a-17dce6a88b1b&quot;,&quot;2a468ec6-4d40-4dd3-b348-98f175272f0e&quot;,&quot;11e79fd1-5f9d-478a-9a27-5a36942c6be6&quot;,&quot;bb0b29c4-bf46-4ac9-980f-2cf1526996df&quot;,&quot;92468e2e-b0bb-4f00-8b0d-338a24712166&quot;,&quot;41f8875d-ba06-4a7b-a919-51700666f080&quot;,&quot;936c7a4b-76dc-4807-af7b-de380e0f2f33&quot;,&quot;d146fc08-6060-4d4b-aacf-0fae4902f71b&quot;,&quot;c0bac9d8-d315-4c32-98c7-456bba66ccbd&quot;,&quot;2757f335-88f9-4443-b4b4-d2378304ccaf&quot;,&quot;a911aa3a-b4bf-4104-8c81-5c40af99e3a6&quot;,&quot;c4447864-e711-414f-94e4-15745a0dd054&quot;,&quot;1e581d69-88c2-4f67-adc2-8fd2fcf0a4f4&quot;,&quot;9a673e64-7561-4cfd-a9c8-aec9cf83f02b&quot;,&quot;a7dfd4f7-bf1c-4f3b-911e-e1a770fcdea0&quot;,&quot;24eaafdb-98e3-4f3c-8579-c02c397de43c&quot;,&quot;0ae6d6e9-2260-4f32-a0ec-139e7ce8badc&quot;,&quot;6964f34d-237e-4170-b5e7-191127d3dfd0&quot;,&quot;c77751c8-d413-410b-94cb-293c9485d5f0&quot;,&quot;3c176106-3d6a-487f-80ac-9babd98ae8ec&quot;,&quot;23b98c3d-49e6-4551-ba4f-c3ee7c75cfff&quot;,&quot;3b2dcecf-3dde-4df6-84fe-83a9e30127cb&quot;,&quot;a6358d8e-d3ab-4f70-831d-2c990d947bcf&quot;,&quot;117e3bd7-6fbd-4568-86ac-6f14dc8ac8f1&quot;,&quot;12179d81-505d-405c-9685-88f82a949583&quot;,&quot;e497e7f4-ad99-4475-ba25-aabd045f2e65&quot;,&quot;dae80d4e-8451-4603-bc76-1b4b8b46c3e5&quot;,&quot;5125fb38-095f-49e9-910a-6b4c1f343dc6&quot;,&quot;c4001cb2-3ca5-42a7-9050-6be207efbe0f&quot;,&quot;bb4e46df-769e-4fe8-b3ba-5d531e91976c&quot;,&quot;e57998d7-7d9a-4c03-9da0-48b552e1c84f&quot;,&quot;c75f39fb-aaed-4ac3-86a9-3f0b2eadf380&quot;,&quot;516b86aa-86fa-42be-903f-286e837d258e&quot;,&quot;6012b4e0-43ca-49e7-a7b8-756b590acfd8&quot;,&quot;76cf9a37-5efe-4ea6-9c9d-903e0705be30&quot;,&quot;fe3b473c-ae75-45df-a755-7f774f822037&quot;,&quot;117d2a4c-7c60-48a3-81b0-a49823daf7a5&quot;,&quot;8b9d7789-ce8a-4742-8220-357fb288ce41&quot;,&quot;3dad0b67-8660-4090-a54a-a249f09e4ceb&quot;,&quot;6c352e32-ee14-4cb2-9a45-493e7f73bd2b&quot;,&quot;93917b76-aef6-4fe4-b617-ab140c08cbb0&quot;,&quot;9d163f1a-2476-4a0b-a575-6bf84e911fcf&quot;,&quot;d5e11e72-31b2-4e9c-9f5f-f2fdfe09425a&quot;,&quot;2d366193-d81b-4b11-a704-22b3548b8a3d&quot;,&quot;86fbc9de-5de7-458b-8701-ae7c96e7db71&quot;,&quot;862f13ec-02f3-4d76-8431-a715122b3196&quot;,&quot;3b714c06-e62d-4560-a4a4-056c36144b6e&quot;,&quot;56455051-7c00-45e6-8968-6439f07f54de&quot;,&quot;4dbf26c4-fbfb-4822-b83b-beb0559a5bc0&quot;,&quot;17d38c87-6c05-441d-ab81-066275e9a782&quot;,&quot;1323976d-9105-4c9e-a6bc-871634ff48cf&quot;,&quot;d2a1f0f0-3712-4d08-9f14-1d5c5f8acf0e&quot;,&quot;1b0c6337-eef0-4bc4-b75e-f114a6aee743&quot;,&quot;23ea0a88-290b-4117-89e7-6d6f862895b8&quot;,&quot;12f3663e-54d6-47cd-bf08-05b8d938213e&quot;,&quot;d9f34973-8ba5-4225-956c-3e44c7dd3ee8&quot;,&quot;14a281f6-3b0b-43e5-8227-6ff016bf1913&quot;,&quot;2e17fcf2-47fd-4097-b567-bc34a2cc8d6e&quot;,&quot;f0188fca-2d26-4759-804d-1e23ca427d4d&quot;,&quot;b94cf53c-7f71-4d5a-95ba-879a24c175fd&quot;,&quot;7f806cb5-90f6-4b18-8a6a-245db3708ad8&quot;,&quot;77b4e2cb-a8fc-402c-8914-c0257cca8f89&quot;,&quot;d0d27561-7295-4573-aeb5-496783916c2a&quot;,&quot;37c5d345-b617-4aab-8405-7f10a5e9d53c&quot;,&quot;58cc6798-7271-4516-b639-03de5759332c&quot;,&quot;16d6d7a7-e644-48aa-b36f-caf6d288f77d&quot;,&quot;6ca75f6b-a436-4e79-aca0-82d1d842676d&quot;,&quot;017812ec-531c-45f3-b05e-e5b0c8ef0063&quot;,&quot;aaedab60-1fcf-4874-b9db-837314870d91&quot;,&quot;048ec23b-7050-4ad5-a297-d4433c01d99c&quot;,&quot;43311fda-5f13-4f04-8538-1c6e905f5ed8&quot;,&quot;be48aac6-60ca-4d02-852d-cfcb3d087891&quot;,&quot;c05c7203-d479-4185-b54e-68c3a8857285&quot;,&quot;9ac7b06b-20c8-4adb-9f10-8457155632dc&quot;,&quot;99b0c3e9-ac8b-410e-9adf-f5546ebd8740&quot;,&quot;565f6e15-08fb-494d-920b-966951e84daa&quot;,&quot;296d4d04-3b90-4c63-81f2-3531a93dc46c&quot;,&quot;8c989c7a-8ce8-4ab6-a7f7-4f32507e070c&quot;,&quot;5c213b4d-7404-4d3f-a252-fdafa74f79ef&quot;,&quot;ec33a4ad-2895-4c71-bc7e-677d9c5f45cb&quot;,&quot;7541fe0f-7749-4472-a1b5-71feaa6206a1&quot;,&quot;5fa13fa7-06b2-44d9-98ae-5629f78d4c8b&quot;,&quot;da03c6b5-40bd-4a61-9cca-5dfc87675006&quot;,&quot;3a5e4448-ce6b-4901-95a2-b6d0aab24fe4&quot;,&quot;1ee8a2d2-972a-46fd-b545-0ef633b62035&quot;,&quot;aaaf049f-fb27-46be-af2b-4b2be6b0bcac&quot;,&quot;84c44830-2f3f-4d04-b8f2-df170ff7ca2a&quot;,&quot;d0dac49c-5dbf-440e-a86b-529cf842e02e&quot;,&quot;47f07130-2d05-416e-ba8b-e6257b4bf109&quot;,&quot;59dade73-b2f9-4e35-899a-4588e5a158cb&quot;,&quot;7f609ced-e248-4329-9630-52c1b5d09fe8&quot;,&quot;5d4d7468-23d0-4627-99d0-95f3b85f3e12&quot;,&quot;f6786f5e-ae59-4746-9f1e-61d6cc50e963&quot;,&quot;6b7af181-c783-4e55-b4ec-4578d93875d3&quot;,&quot;34482348-cabc-495d-b69b-45517bdd45a7&quot;,&quot;15bf3b33-70a9-42d4-b6a7-79159f31449f&quot;,&quot;fb0bcb53-ee91-4b85-b1d7-c847eb08e936&quot;,&quot;598abed2-b258-474b-949d-e42f5e7d91fa&quot;,&quot;9bf21f56-44e7-40a4-a5db-b4792b5d7018&quot;,&quot;9f6f11ab-4b56-478c-897f-841e6f1435cf&quot;,&quot;9b187ac2-cc3e-48c7-a193-27d9586cdace&quot;,&quot;cb78ea05-c6c0-4db6-8e1e-a6f03b28f1de&quot;,&quot;81b8b8c9-e307-441d-8734-ebbadbf664fa&quot;,&quot;4e0f9eb8-c9bc-4fc6-8f94-597a0d3f123f&quot;,&quot;e0b9baf8-b12c-465b-9334-7236c1616ede&quot;,&quot;aaf3701e-39bd-4088-b8f1-bb3ef03c7902&quot;,&quot;cd46bd5a-3911-4da4-a775-12fbc9bd2e9f&quot;,&quot;0fbc2802-be4d-40ce-89f4-92133029576d&quot;,&quot;fe66cdeb-1399-4e3c-949f-edf09ef0f59d&quot;,&quot;ed906f24-fcf6-4f05-ae58-b90b5f5a01ec&quot;,&quot;0b552102-98e5-4df6-90c8-9718b2db31a6&quot;,&quot;831e5ebe-c6c0-430c-a673-3f8aaeae1f28&quot;,&quot;47ce8350-352f-4407-8054-22973e632fa0&quot;,&quot;757fc2be-2a38-4f5e-a2d5-45d05ffb0231&quot;,&quot;f6c23b96-0219-4962-b1d3-bdba4beb4f57&quot;,&quot;147df4ea-9042-487d-a80a-803aa4a72cb7&quot;,&quot;f53f9373-761f-496d-95ec-fc65a00a03fb&quot;,&quot;a1eb96a8-002f-44f5-adf2-2cf17d4a24a0&quot;,&quot;0e98dc8a-b730-45db-bd33-4c5d7cc77d73&quot;,&quot;72edfb78-dc29-49af-b28a-e1ce2c2af67c&quot;,&quot;c566cdc3-d626-487d-a22b-f3dfccd1ea1d&quot;,&quot;4b8f5d8c-a7f5-42d7-8a81-1de43fe37e1e&quot;,&quot;7ca1f19f-bc16-4442-a0a8-28aad3567356&quot;,&quot;78eb3f21-1ffe-4e5d-9970-319d944fe20c&quot;,&quot;2c51ddeb-f830-4779-82a0-b10d26bd5b59&quot;,&quot;32db1d72-07d4-413c-acd6-2589824d1d7f&quot;,&quot;fda952b8-977b-4d93-b80e-5fa2bdaba664&quot;,&quot;49d7faba-00ad-4c07-a41c-d4fc208aed05&quot;,&quot;be78ffe3-14bb-42c0-8ceb-7965b2b83bcd&quot;,&quot;d7d0e859-73be-4d86-93d6-0fc3a5e1ac6d&quot;,&quot;4b7bb73c-5d2d-41fa-918e-a4bcc150799c&quot;,&quot;395fcaa4-f1f9-4de2-8ccd-bbd1482c5cfa&quot;,&quot;d8b18b15-e51b-4580-bfb0-2383fe77e85e&quot;,&quot;8336aff7-3879-4ab4-b935-f44ba95b6224&quot;,&quot;f8e6985a-8035-4ff1-bab0-447c443bd9aa&quot;,&quot;69edcc8a-b036-468a-bc2a-e97435023003&quot;,&quot;6fd1f27e-e6ba-4e15-8105-586a0bdd857f&quot;,&quot;7d54b4e4-1b44-4637-ba0b-fbd1d42cd7f0&quot;,&quot;9c9c8414-a162-4740-a6d8-fa7e0921c027&quot;,&quot;147b56ff-f0b5-472a-b8a1-b9d3773d1697&quot;,&quot;42a3e539-b56c-4e92-b5a9-f9315b6e8253&quot;,&quot;2b34f0a8-e4f4-4b4f-ac57-d5a28b433b29&quot;,&quot;157a3355-e9f7-468d-af6f-16baedf88d82&quot;,&quot;18f75fd1-49fb-4530-8687-d25f3fc61d70&quot;,&quot;f9018356-3d73-4bd6-93f1-9ff31bc70dff&quot;,&quot;c689db4d-8565-4742-ad1b-9a16021b3d47&quot;,&quot;c758dbc7-5e89-4731-a817-b37199e3e051&quot;,&quot;0690fc21-6f13-451f-aa68-d864c8ac66db&quot;,&quot;1a6d93fb-0e2e-4436-b90c-120d9fee7f98&quot;,&quot;9a606cbd-6a6b-4508-a614-25f6a9fafb21&quot;,&quot;77e541f6-edc8-4f54-b35c-55701afe27d2&quot;,&quot;b0fbfc96-1108-4f42-90bc-525d394b1a39&quot;,&quot;adc43593-f779-4408-a90d-598e761dc6d6&quot;,&quot;266c918a-319f-4aea-a526-b9c1ac282003&quot;,&quot;10c9413c-8678-464b-a0e8-953feafb4188&quot;,&quot;9c5fcf91-3e82-4fed-bf80-c9018aedcb9a&quot;,&quot;9adaf7cd-dac0-43b6-a91f-228766df877b&quot;,&quot;65a66daf-e36c-498d-9335-66c0194a126f&quot;,&quot;557fab74-58d7-405f-896c-9000e8863067&quot;,&quot;db600269-f60b-4cd7-be82-e23ce42caea9&quot;,&quot;6573ac73-c1d5-4682-89d0-4dc8335ab8c4&quot;,&quot;9ba3bcfe-870c-4074-a873-4d9088c3599a&quot;,&quot;76c2dbea-070d-4eb3-b648-770d30e7fc3b&quot;,&quot;a621e787-ba30-4612-a2d2-e453d86ae310&quot;,&quot;29a07b5b-f829-4ac5-ba36-504ffc12123b&quot;,&quot;c9027542-f825-4551-a04b-dc402bb6c029&quot;,&quot;b644049e-0633-4204-b56d-bc589418ddfa&quot;,&quot;f974d357-a16c-48e6-aae7-58dc5ff0c007&quot;,&quot;320b49bc-f0cb-474a-ace8-d199830cffce&quot;,&quot;9da1897c-25cd-458c-b66b-902e7e7ee82a&quot;,&quot;e9408a13-2056-4ac4-83fe-5297534d9e9b&quot;,&quot;1dc4ddb2-e591-4e48-afd5-5003f3b23a14&quot;,&quot;984a8428-e5bb-455c-a711-a7ea018760fe&quot;,&quot;edd73e05-371f-4a4f-bb02-922e1073c059&quot;,&quot;a9f583fc-05d9-4e2e-a6ca-c1cd544a1b98&quot;,&quot;f73edc2c-81f8-4d10-a1c9-4cfc4e267ba5&quot;,&quot;662d38f5-00a0-445a-958b-2499c540182b&quot;,&quot;8a1bbfe6-20ea-428d-9bbb-278ec0efca1e&quot;,&quot;53385e24-0973-4403-b832-643bd8fb37f2&quot;,&quot;df79edf7-af6e-4b6e-8256-f34107dda7f6&quot;,&quot;4503e994-ec02-467d-9f84-b94062c82208&quot;,&quot;e5690839-1ccc-446a-890f-5250396b6756&quot;,&quot;7322985e-a464-4e88-b3cb-f39961925a87&quot;,&quot;6834644f-4628-4322-af49-a70e2bbe6996&quot;,&quot;94d32098-1e85-4172-8893-2e1a040fc9cd&quot;,&quot;afe7b2e8-cc30-4642-a1d1-0708051b2414&quot;,&quot;8b63cb43-934b-471b-b983-77a2ec98b012&quot;,&quot;c627346d-e5d8-401e-8c80-ecde5b7e9246&quot;,&quot;fce45bb4-f4d9-4eff-b157-35d6f5235c5f&quot;,&quot;591f55d2-fbbb-4d40-9f1d-95a1153c37a6&quot;,&quot;2a6d5231-0376-4a4b-b6dc-d6e849912585&quot;,&quot;d5ebdbff-c18b-4cb1-b33a-d4d1ec566b7d&quot;,&quot;02e07611-9a87-445e-9ae2-5dbf35899474&quot;,&quot;f9f8213e-11a2-4a0a-95bb-6bd50f0f7131&quot;,&quot;d9108a41-07d2-46c3-b245-3e9cc22ce17f&quot;,&quot;52af3093-a9b3-4a30-a816-a64f09190d5f&quot;,&quot;c4b73a9a-77b0-4029-9a3e-9295f344d735&quot;,&quot;dc789031-210c-4b30-abdd-550c472f1492&quot;,&quot;ce44573f-2626-44a5-a060-614742591034&quot;,&quot;c78c27d8-d625-4879-9e56-79072092e5ba&quot;,&quot;f489d45c-6bcb-4272-b986-ced8ab8362d2&quot;,&quot;720911e2-e032-465f-a97c-7cf6d075d65a&quot;,&quot;26da5518-be03-4709-abb9-11dfe5663d88&quot;,&quot;9fc3699c-1215-48ec-8248-aef0df90a355&quot;,&quot;9d404cdd-7614-453a-95c4-e2fec3026f7d&quot;,&quot;8e34f7f6-ec1b-458b-810b-60ae5f1f5d3e&quot;,&quot;9c543678-532e-4e69-941e-c9977979c9b1&quot;,&quot;eadd3745-890c-4051-9fea-68f637112115&quot;,&quot;2a07e4e7-5c46-419d-a638-20d7dafc676c&quot;,&quot;65cb77b1-0993-4afd-bfa3-4cc50ceea2dc&quot;,&quot;995b4018-f81c-4c5b-8b9f-bb18b7be916c&quot;,&quot;b6b63af8-7b99-4d51-af2f-572efa3fe568&quot;,&quot;760957a9-2774-418b-ad30-0902226a3720&quot;,&quot;369e7077-901e-4e65-aa2b-d9811a914db6&quot;,&quot;035d8856-bd56-458f-844c-85a9b12b38cd&quot;,&quot;a733df01-8d13-4246-829a-00d51694efb8&quot;,&quot;2bd131f1-0f37-4add-a117-f910bd21fca6&quot;,&quot;0630b15c-27b0-4daa-aa6f-e9de00e8b6bf&quot;,&quot;b269ed52-6e74-435e-83a7-d554283c4a39&quot;,&quot;1814e925-1e70-47bd-a79e-6aaab9fd2bd6&quot;,&quot;7b9fd694-d738-466e-add1-45425d432f48&quot;,&quot;ed4bb36e-3638-4177-a828-355cca8c1d35&quot;,&quot;b05e7f2d-2f10-4838-8684-3e2ba16971c6&quot;,&quot;a07222b2-0a2a-4c91-b506-9e17c136c32a&quot;,&quot;59ff0dc3-f423-4060-9f92-09b9454680b3&quot;,&quot;d6966a7e-3817-4742-b787-13ff6addd50e&quot;,&quot;538e8f1e-427f-4771-a021-a147caf9f91e&quot;,&quot;a66aef85-52be-412c-9109-5d2f7db953ca&quot;,&quot;441ed4e3-d74d-419a-911d-286ad829e970&quot;,&quot;e6f533e9-159a-4d8f-a254-21ce23e5d46c&quot;,&quot;18f01414-f4f6-4817-90a9-37ed4ebfb500&quot;,&quot;d1586a1a-de0d-4b40-8693-b1c19f251b2d&quot;,&quot;04493f52-66e4-4b3f-9997-29565404c1f1&quot;,&quot;2ec3fc7e-3e42-4cd9-b1c1-bbcbb20a5686&quot;,&quot;df938ffe-7980-46ea-b3de-15dbbeebcf0e&quot;,&quot;ca65f4da-0985-4952-9f37-adc49d330be4&quot;,&quot;7cefb3f3-f031-4ed4-bcdf-7bb90a3c5da6&quot;,&quot;9d46b247-a240-4470-ac65-0cd9a7e53a31&quot;,&quot;240bde10-f940-4a73-b4fd-d8a114342a34&quot;,&quot;16bb01d1-fee4-473d-ba67-165f4fe813a7&quot;,&quot;06034111-0a08-4b30-878a-b9dbeebe9e49&quot;,&quot;86d8c5f4-e4f9-417e-99d9-950eee8c847b&quot;,&quot;e7e298e0-f22b-4dbd-b625-717de069a6f4&quot;,&quot;e0adb2ed-7410-49bc-ac9e-5a0ca6de0812&quot;,&quot;453f26b9-9599-482a-a724-743841ea96ec&quot;,&quot;2e4ecbb7-4157-48cc-a91a-0321520ff41b&quot;,&quot;8db9b9ee-1651-4ed0-a30b-769cfb4140b5&quot;,&quot;6787422f-290d-4ed2-998a-a163e7a95df0&quot;,&quot;d8ec7b09-8e03-4f41-bffe-140e33eab5f8&quot;,&quot;3fa2c725-2a8a-4f64-b101-db6b01185647&quot;,&quot;16d15efa-6633-465a-8d2a-7ee2642eeca2&quot;,&quot;2b53a984-8571-4772-af31-f1d2720a58a3&quot;,&quot;9980351c-c871-4543-b2f1-e65f23f95a98&quot;,&quot;968ba5cc-f2c5-4872-afca-a641a3ee08e7&quot;,&quot;281fa1d6-eb5d-4b83-b6aa-5481cf3287f2&quot;,&quot;4b166458-0371-4df1-b5af-bda6271f70d2&quot;,&quot;00d97413-e25a-447f-83b6-6cb64dbad9f2&quot;,&quot;6770dddb-2115-4abd-9d4b-ca0c0134674a&quot;,&quot;46974676-7265-470c-ab24-c8e057fe7cde&quot;,&quot;b60472a1-8f3a-4d87-80c7-2afd9de57608&quot;,&quot;d7da9785-32a9-445c-bc67-47853d81bc9e&quot;,&quot;ff5cd808-6e1a-4035-b17f-b863c375b2a6&quot;,&quot;2fc9a187-cdf6-4d2b-8c76-0382394747b9&quot;,&quot;8c638cd3-202a-48ee-8136-83ba74ebb021&quot;,&quot;8cb8a323-555e-45fd-8be2-7571149c9154&quot;,&quot;10cc7611-cd5c-4551-b726-bd13435d2c15&quot;,&quot;6f2458fa-7eb4-4769-9459-ef57849ab9e7&quot;,&quot;08db8cad-fe20-4866-a14d-effe5414194c&quot;,&quot;3af24894-761e-40c5-95f0-4b9c08174927&quot;,&quot;af09ef4a-da4a-4475-8be0-a0048e5442fd&quot;,&quot;49cd18e3-a056-4d65-99ae-31fcbdf940c8&quot;,&quot;154d3347-2e73-443b-bd79-dbb3d244789c&quot;,&quot;68a6b1a2-8ef5-4e6f-86d2-c43b124e01b2&quot;,&quot;44e9e5ee-8521-47a0-a346-50f40c8c58b3&quot;,&quot;91328470-4a59-4294-b15a-fdccae580920&quot;,&quot;c9e4ec66-fe78-46d3-882c-7f1288105707&quot;,&quot;bf213881-2432-4084-90bc-d3e8d517beb0&quot;,&quot;120f8dec-277f-4177-9caa-1b251df6b700&quot;,&quot;3125a725-35dc-4e57-b769-3b7134e9ac08&quot;,&quot;cb0643fb-6166-4df5-80b0-8a1d670c2577&quot;,&quot;a024b929-f20a-4d74-b42a-342ac4162981&quot;,&quot;45911f02-6a2d-4560-8762-315da0da020b&quot;,&quot;9cb284a1-f315-4487-94f1-cf9872941711&quot;,&quot;886a2169-8081-4295-bfc5-d69469769ba2&quot;,&quot;537e00c6-dd29-4529-897c-5b05a646d597&quot;,&quot;ba603b98-fc1f-4161-8467-fc520b9fc139&quot;,&quot;ecb31ac7-8590-4f95-a09e-f2b29e870bd4&quot;,&quot;7221b088-a9e9-4c90-90db-1844fecd9cef&quot;,&quot;ae0b75c8-8751-4158-b2b1-edc678366a9c&quot;,&quot;b8085476-9e63-4885-81cd-3a53b5058060&quot;,&quot;4fb529f6-d694-44c7-9bb7-0f698d081fa1&quot;,&quot;5a1be5e7-f41c-4150-ab34-e8a366b51fea&quot;,&quot;2df38ddf-0332-4cfa-b9cb-c7a220b3fd36&quot;,&quot;2b47dcef-1f73-4c2d-a94b-feed7a79905a&quot;,&quot;0ecf1088-7825-41ff-9b69-c263036836cf&quot;,&quot;ba8aa82b-215e-4eb5-8e26-7787e3594a7a&quot;,&quot;9ecb5481-793f-4429-8c15-4343b3883ce8&quot;,&quot;32062e9b-82e0-46e6-ad29-57cf68177410&quot;,&quot;37997bba-4dcc-483e-83fd-a0925d88ab6e&quot;,&quot;8a7e4464-38ff-4820-b97b-7c1eaedc5104&quot;,&quot;bac63c7b-3971-4d31-8197-724abc832545&quot;,&quot;ae17a53e-7c8b-466a-8015-5ed4fd3b677c&quot;,&quot;963b186d-c965-477e-a6b1-f63945509392&quot;,&quot;924100c5-de49-4707-be27-d91181dae561&quot;,&quot;ad0df54e-8a2c-4c13-92a3-48f9deb543bb&quot;,&quot;b9432476-b5df-4bce-9cf8-803fd9b30649&quot;,&quot;dee55a95-b993-48dc-9a61-a77f6a9d6d4e&quot;,&quot;a2e492f1-190b-4314-9c00-f76fb6958fed&quot;,&quot;2c255fb3-fdb3-44f3-9d85-3bf5a221b58e&quot;,&quot;3637e440-ad0e-4083-8141-95ee02a42b6c&quot;,&quot;022dbb19-1475-4829-ad54-1e1317eaf42e&quot;,&quot;1876a9d1-ba84-4aba-bf35-903eee8bd091&quot;,&quot;03859caa-1627-4629-a6d3-53be9866d837&quot;,&quot;31f05f0d-9c8d-40f7-afd6-8249e9da2763&quot;,&quot;efbe48ea-b33b-4708-86fc-b818d5120f11&quot;,&quot;e5ea012f-8525-4614-8621-db1991d6c32e&quot;,&quot;1b47f596-52ab-4e72-ab8d-81537e7f3ba7&quot;,&quot;49858e6e-04cb-4ec1-a4bc-62714e1b291e&quot;,&quot;8ead0809-4052-4dae-995d-36a62089f858&quot;,&quot;b28fdf47-14bf-496d-af37-a58cb9b6e20c&quot;,&quot;2c310d04-c7ea-4185-8e31-bcbaacc5355c&quot;,&quot;bc2de866-673a-48f4-a93b-c3a6fa5514c7&quot;,&quot;071bf213-782c-433f-91f0-ab80b8719459&quot;,&quot;0e911c57-fc27-4e69-9913-d13496ae8491&quot;,&quot;360d3476-165b-4d48-bcba-c22f2415174f&quot;,&quot;e8d9843d-1f79-48e7-9545-4fbfd86eabfb&quot;,&quot;1d150a20-d792-4ae7-bdd1-5b9a63b528e7&quot;,&quot;cbe0f69c-22df-42b7-92cc-ecd479eda386&quot;,&quot;eeea8e09-031a-4d24-9ba8-2bd4a681b835&quot;,&quot;cff530a3-1d04-46a1-88fa-182ebad804e5&quot;,&quot;ce5762bb-c432-41f2-b4f9-bb763e667e32&quot;,&quot;ce5dee8f-d60a-4376-8eed-0faf239c3f9e&quot;,&quot;80877159-8aa3-4e4b-969b-8e3793d548af&quot;,&quot;628eed57-198b-44de-a150-e1d0cf97b565&quot;,&quot;4932637a-e1ba-4757-87fc-c7b6d0cb2836&quot;,&quot;699fa258-75e9-4412-b0ab-c0fc25b9a296&quot;,&quot;6fb7068c-109a-4a45-aac0-98b757208c68&quot;,&quot;71ac5f96-9f85-4f31-a8db-1214b64b22d5&quot;,&quot;4ef4284b-3d88-46b9-bb48-939759fec581&quot;,&quot;e8ae1868-441f-409e-b433-3bcc1b960cfa&quot;,&quot;f7593c7f-b2c2-4234-abe5-6ba0c92b2623&quot;,&quot;e209acb1-1f9e-41b0-bac4-94ed2d3a95e1&quot;,&quot;c496e895-720e-4984-a5e3-827dc0c7538f&quot;,&quot;18a3839d-59cd-4afc-95bb-5b83d176363e&quot;,&quot;abf6753e-343d-4573-86b6-33017bf52046&quot;,&quot;d1fc030c-a5fa-4798-83b9-9cdb8030effd&quot;,&quot;b02ef0b5-15b7-4f56-b275-432b4c315d15&quot;,&quot;2b7cadb7-8691-4df6-9a0a-14e52043b5e1&quot;,&quot;8f777461-1bec-4be5-97b5-1bda312967c9&quot;,&quot;32221c70-cb6c-4d6a-82ce-362d1630260f&quot;,&quot;a812f366-7e26-4f3d-a074-1cbb220ba91d&quot;,&quot;f8efafca-13bf-44da-8d03-c591bcc0c792&quot;,&quot;65ab9a8a-966b-42f2-b217-08cc800e7fd9&quot;,&quot;684f92ea-84fe-4afc-981a-4e559be0dd36&quot;,&quot;f039fbc2-37ba-4855-8b9d-b2e6cc00deb5&quot;,&quot;375aebdf-5b73-4d10-a667-afb325aed2b7&quot;,&quot;93513f54-7617-418b-a363-3b1f675bf2a0&quot;,&quot;dbd58c96-59c8-4486-ac8c-83157369ad60&quot;,&quot;c2d87353-315a-499f-931e-4a3ef6e1bd75&quot;,&quot;04c5e426-61c1-4a6a-8823-31fba137d9d1&quot;,&quot;ccf34202-630b-4b1d-a522-b308e0c56c29&quot;,&quot;31772d9e-7a4d-47e3-a4a9-3b4b21f99eb1&quot;,&quot;1b1efcef-b9d2-4c18-96ba-9c0ee5f47d68&quot;,&quot;5f02be08-a5e4-4996-aa10-ca3100dbcab4&quot;,&quot;f477f162-f6c2-41ea-8496-93bcb5dd862d&quot;,&quot;12fe4734-89d5-467a-9468-0f31f7a6dbac&quot;,&quot;9912c85b-412e-457b-aa9e-1c70e4d3f4f7&quot;,&quot;409ae0e6-6e8e-4f80-8245-db0eff5f6d49&quot;,&quot;d201e4f9-dd0f-47d1-b687-33367e3fe526&quot;,&quot;41836adb-b3f7-4496-8643-9dd5f9acc257&quot;,&quot;46e2e801-b264-4290-9634-7532062277f9&quot;,&quot;340c5360-e4b8-4179-8111-ed71e7d34c4e&quot;,&quot;3985a85d-fac3-4688-b9bc-a23c41673288&quot;,&quot;c28ded11-8a16-474f-962c-5940c8462a6d&quot;,&quot;326c12b6-d800-4c7f-954f-391bbebf0e6c&quot;,&quot;7eadbaa7-d576-45f3-a6e9-f10bbae81d4c&quot;,&quot;d23f0e6d-7f30-4585-9406-a0a235d3cc30&quot;,&quot;ecbe64ec-eea8-43bb-9148-929c4adb1dbd&quot;,&quot;fe3b09f1-414f-4e9c-801d-9e72e4172b73&quot;,&quot;343ecdba-9b42-459f-bd17-3e213ef6f66d&quot;,&quot;64adb2c1-8503-4c65-b35b-08517029406c&quot;,&quot;182efaef-a656-4ecd-9dd8-4591635a4c64&quot;,&quot;89fbfb0d-d326-4034-af39-756f84752d4c&quot;,&quot;589c2d0f-dec0-47f8-83f6-650ffe4da397&quot;,&quot;0d05225f-4e83-409c-8175-bb8041c640af&quot;,&quot;7c5fd928-1245-499e-8366-7880687d2bf6&quot;,&quot;2900009d-5f43-46ae-a77c-c496d25030ce&quot;,&quot;f171bd58-451d-481e-82c3-924f0f58dc8c&quot;,&quot;259ba2d7-4b25-4003-aceb-930196cbf125&quot;,&quot;4c8fbed4-8c2c-4223-b06b-4597ea7c1523&quot;,&quot;547d549e-c1d4-4953-bb79-aab83565162f&quot;,&quot;94287bba-3baa-43ea-b19a-e6afd77e1541&quot;,&quot;1b8e5c8c-0c08-4493-8330-b62e1eef220c&quot;,&quot;37821c31-10be-4475-95b0-db6b0791a162&quot;,&quot;696b9a86-a072-43f0-9780-20128127ce73&quot;,&quot;35006102-530d-415c-a7ed-24917e4183d1&quot;,&quot;63bba71d-f5c9-4bbe-85e4-e52f26ebe984&quot;,&quot;96ba6657-9aca-4ac2-90da-19a51f61d798&quot;,&quot;de9c7ebd-a1ed-4fe5-97b6-68bfafc36252&quot;,&quot;46759ea1-c94b-40ff-9f74-10f155a22551&quot;,&quot;6ee17f92-cfa6-471e-89c3-bd830492f709&quot;,&quot;ede1500e-49e6-4557-8dfc-91835d41544d&quot;,&quot;75f740db-377c-444f-b29f-277b2c404887&quot;,&quot;ba757cac-4843-4415-ab8d-5251b7dc2e37&quot;,&quot;0e06a67c-9dd3-438a-a42a-66a05d07ccfc&quot;,&quot;9886b5d1-0edc-4c0b-bd29-0d36d7ac3b1e&quot;,&quot;b5f84198-6452-43e8-be81-f8cbae78c29a&quot;,&quot;cc5a8570-da09-4bf1-91a6-6fa1ae30e767&quot;,&quot;7dfe9928-aa74-4d0e-8bef-0810bfac3d4e&quot;,&quot;80f4fb4f-dd84-4932-b3a4-d8b2e2486440&quot;,&quot;79136135-e008-4591-b040-226f61929949&quot;,&quot;8fd303d6-ab03-4a86-a048-d3f23c8b4359&quot;,&quot;81030794-6464-4c4b-b7e6-3ee7fbd3085e&quot;,&quot;ae4da49b-857d-4c1c-ae10-1157bffc0622&quot;,&quot;5e0951bf-550a-40fc-8957-70e5cf25a08d&quot;,&quot;19de6721-5f81-4916-9a81-672432e93db8&quot;,&quot;085e0f1a-81eb-4d18-a830-47a96d1f7a7f&quot;,&quot;b408a8b0-8b01-4494-9d97-190d2629cb0e&quot;,&quot;33d41f15-1241-48ec-9686-b2ba33fabb8b&quot;,&quot;1a8db039-b984-4955-a9ee-967fb759db25&quot;,&quot;4c30f354-1cb6-4d93-96d2-882281c6c33c&quot;,&quot;9e0ca1a3-8350-4204-ac1d-90ac58063c5d&quot;,&quot;6c66f051-2fdd-4ee9-bb44-52583eed02e0&quot;,&quot;5a7fe16a-0247-4b2d-be0d-43c2ceba92ce&quot;,&quot;c5436f03-9d19-49e5-96f1-dfee428b911d&quot;,&quot;55c79606-d023-4abd-9f75-5ed0b3981f81&quot;,&quot;880f0640-30be-4bbe-80b6-ec00164e6f9e&quot;,&quot;77af81f0-e6c8-41b0-9425-fb8a5b62fe28&quot;,&quot;1ed7ad0a-d89d-4a9d-828d-e7dcd47c48eb&quot;,&quot;bbd62fad-1131-4b2f-b46a-61ee16c6bfe5&quot;,&quot;f9865a84-5363-495c-b08e-e9d9c45eaf7d&quot;,&quot;f11718d9-df2a-4209-9ad1-0861893c5306&quot;,&quot;27bb0ea7-34bf-48c9-96e1-7a560e9beb77&quot;,&quot;62ad8162-fd3a-4c0d-81e7-c1f1590faffa&quot;,&quot;17a8e18e-2153-4ed4-a23a-553987caf546&quot;,&quot;c7f50a63-d903-45b0-9afb-85d4c527ace9&quot;,&quot;691fdc96-e584-4fce-b2e4-3389456afbc1&quot;,&quot;65ec7c37-1cbe-4ed4-b55f-e506cf876b69&quot;,&quot;87a2b525-f0b5-43eb-b190-0610ab649702&quot;,&quot;662bab13-1da5-4f05-a726-42718f5c168e&quot;,&quot;4e2a5b5f-97f1-4cc7-8f49-a5bba933a80c&quot;,&quot;74d63cf8-c411-4a91-8310-6ba218f31c3e&quot;,&quot;87e863d5-6c6b-4c78-87dc-4c11e4f185e9&quot;,&quot;95a0a5c3-9217-48b7-89c3-921400f760cd&quot;,&quot;611be9ce-f018-4f29-85b6-9028b4903e68&quot;,&quot;04a1c1e9-1e5d-40ca-8eba-c5f5e33b7c78&quot;,&quot;972f3c6c-ce13-48b4-bfd6-c05389524ef8&quot;,&quot;300b4ee8-13e6-4676-9402-a76312e8b47e&quot;,&quot;b03f9193-5f4c-43a4-9ec7-2ad28a388d6d&quot;,&quot;b6b332c6-249c-4e58-bd1f-fb9135f9b089&quot;,&quot;13335809-57c1-48bc-a0ed-6fad2b81df9b&quot;,&quot;fedba9f2-f38a-4ee8-af0c-a2f836a4ac73&quot;,&quot;85cd19c6-cdd9-49c6-8bee-e11bfa8a3b08&quot;,&quot;b937670d-0835-47f9-8977-fbc727442965&quot;,&quot;3846ddd2-8193-44b3-a72d-7cd3a33a0776&quot;,&quot;f69d8990-a713-4672-ad4a-b69f5104ddc7&quot;,&quot;8bd68b6a-cf1e-4499-94cb-165261bcab09&quot;,&quot;de37d663-fa51-4a41-bd44-341500e7f83f&quot;,&quot;9d4f0b82-421d-4f90-ae1c-baef474f4a6d&quot;,&quot;b0c1f577-99d4-4410-b9cb-75dc4bc072ef&quot;,&quot;09eeebea-4615-4a81-9864-7f955a6413e5&quot;,&quot;e101ef0b-93c1-409e-bc9b-d8d2911c9b98&quot;,&quot;3e8a1e7e-774a-4fc6-ae25-a2af4b7b5050&quot;,&quot;766ecd1b-5316-43bb-a268-bc4d97625b98&quot;,&quot;3e3b3efb-57e8-4407-8239-ae1c02e40a15&quot;,&quot;8659cee6-f2a5-45c5-bd2a-ff2d0fabfb8a&quot;,&quot;139ff59d-cd07-489a-9e2d-be3ee97b3116&quot;,&quot;2017451f-e85d-4015-b225-24bc0f4e9c4d&quot;,&quot;6e0ec5f3-9a0d-498a-b427-4959a7b0b90a&quot;,&quot;8ff3ffd0-a25a-41f5-aca6-615e277264de&quot;,&quot;723a67ad-0cb5-4e40-be22-bdf055d4756b&quot;,&quot;30878743-6314-42b4-8799-5756153827df&quot;,&quot;67fd36dc-302e-4dbb-af8a-401fd1b7b7cb&quot;,&quot;40c8dd9f-b35b-478a-81f8-d4d8b0be40d3&quot;,&quot;33a28f51-7f45-4ae9-b1ed-112e4f042830&quot;,&quot;70ab0cd6-a6c8-4ee2-ac6e-e29efc6721d8&quot;,&quot;57697be1-7bcf-4e85-b342-b0835fb43fea&quot;,&quot;75dd61ad-f764-4a78-b754-a29c367ca308&quot;,&quot;026bf552-7ec6-487e-a3cc-b1e635c1c382&quot;,&quot;1cd90aaf-06e4-4e8b-8aba-dbcb58857c5c&quot;,&quot;a92cf5ee-47c3-4490-a8b7-e77bd744c92a&quot;,&quot;d61617b8-04ae-4be6-808a-1f81ee672362&quot;,&quot;da2cbcc2-c05a-49b7-a54e-18a6360044ee&quot;,&quot;5585b934-6b36-4924-878c-e90460544d00&quot;,&quot;106ab98b-6fe5-4170-8986-c3d7656dd636&quot;,&quot;9a789b7a-5a1d-4f7b-bc9a-06875caa6380&quot;,&quot;1b4c2026-4851-4ac8-9bb3-ff8dcd91badc&quot;,&quot;8a40ba8c-c66a-42d7-a74a-d3993d68de08&quot;,&quot;2a96c003-a0ba-42fc-a57a-8f1a67daef53&quot;,&quot;6721f09c-6209-490b-896c-7ba5357df726&quot;,&quot;fa315f91-e9d8-4da9-ac7d-0480ef455ba3&quot;,&quot;1ad84e5c-de93-4528-880f-283a32a5cae4&quot;,&quot;13c12c5c-c435-4e54-b996-c1b8797c7a5a&quot;,&quot;892eae27-586d-4bf5-9e1a-23fd710e08e5&quot;,&quot;9f7e9f3d-f466-4f85-8cf9-838fd4a806fb&quot;,&quot;40cc6102-8fa2-48fe-8042-1efc2515c05c&quot;,&quot;20c137c2-dc6d-4bbd-8750-b96d8c29a5cc&quot;,&quot;10364fba-bd43-4f64-a91a-dfd3bc210b0c&quot;,&quot;5332db4e-ff85-4150-93b7-925ec1e98355&quot;,&quot;6c6a5760-3e9d-435e-90b1-3335a00a2eb0&quot;,&quot;4d714ee2-0a0e-48db-b446-c722d885063c&quot;,&quot;246372a9-0ac6-40ed-a228-698b1af7c47c&quot;,&quot;6298588a-f10f-4ce3-bbce-fe1bc9c0a9e7&quot;,&quot;3096cddb-bb8a-4e81-9681-f8a7bf94f4a2&quot;,&quot;08962a52-eda1-4f3b-bd7d-293f46e99fc6&quot;,&quot;874c961a-24fd-45e8-b8c1-9592e03a2448&quot;,&quot;48bf2476-797a-4a84-b249-609efc5f3215&quot;,&quot;2d944707-f94f-4d3c-b72b-9aa7de24f1f4&quot;,&quot;610f5b0f-2509-46a0-8c48-b6315a80b695&quot;,&quot;f501e785-98d4-4df8-ab85-f308a410c8b5&quot;,&quot;1fbe77e1-8ff9-469e-a978-e58b873f2c93&quot;,&quot;b509639e-5fe9-46dd-ae0a-1e87c9b19bf1&quot;,&quot;3cac6c75-7ad3-4a1c-80f5-399fdb9a611c&quot;,&quot;8d9a0043-2d2f-4c24-8878-7c5727b216d5&quot;,&quot;102b4590-a635-4ad8-98cd-5887b85d13ea&quot;,&quot;f9da92d1-783e-444d-9a86-27011a519fbb&quot;,&quot;e87469b2-09f8-4447-acbc-33d33b97a3b2&quot;,&quot;6d05c3a9-f184-4f83-b46f-4b3a20c10e7f&quot;,&quot;8f67613d-9d6f-42bd-a657-7f4f2294a127&quot;,&quot;ae42fef3-8766-4f8f-8b1b-7795f3531f34&quot;,&quot;d2c87f2c-d86d-405a-8f19-a59270d185e3&quot;,&quot;21d7b7b5-7228-463d-8a42-c6a463607f46&quot;,&quot;30fe4de3-427c-4242-9387-7e907a303c7a&quot;,&quot;143e1923-20fe-4bf8-ab70-5ea45e5c46f2&quot;,&quot;fdb3b031-328e-48a6-87ca-c13696702891&quot;,&quot;cae1bb33-1c6f-4a0b-8384-9ddc92142ee2&quot;,&quot;3bea9d25-eeb5-4c64-9d0b-1af188c1863c&quot;,&quot;d828145f-cab7-4d1a-b2ce-edc2783f4a24&quot;,&quot;7e284d66-519d-4819-bd30-78f73fc7e38d&quot;,&quot;ce6d0bb9-1e27-4531-aed4-9234cd70e1c7&quot;,&quot;4b2700e2-e892-4a28-8368-19e1e0a03800&quot;,&quot;8f20c02f-b8ab-425c-a0e6-2a79d6c901b5&quot;,&quot;78413cfb-91f2-47c3-94b9-43ffe1f51660&quot;,&quot;e2def7c0-13bc-4f4b-ad3c-c6eb26bc772d&quot;,&quot;caaa9070-90bd-4ded-8613-9031a28363a4&quot;,&quot;6f589d2b-fe5c-4f52-8834-7bc7fb0dbef5&quot;,&quot;2708542c-63f7-4488-929e-856702089742&quot;,&quot;0f5521e2-1e08-46a1-a53c-f9506bdf5918&quot;,&quot;00eebca5-dffb-49ca-abb8-5365f8eadccc&quot;,&quot;f202009f-dda7-4701-b8a4-ffd3e70c752c&quot;,&quot;37b98475-dab6-4989-a81d-02d09403e660&quot;,&quot;2dd74562-bd6b-4c77-af56-0ee2d3c95760&quot;,&quot;6d2d4641-bd2c-4a7a-b8e0-310e7e1ee2cc&quot;,&quot;a8593947-d161-4dc7-b094-6bb37203ee60&quot;,&quot;39c9adf6-d83b-494b-90e5-7823db8a6b37&quot;,&quot;239f6dfc-3c46-47f8-b894-9d62e3e0fe9a&quot;,&quot;60b0f4d1-030e-4f51-acd9-d06817b0cfa1&quot;,&quot;f7e2bf20-bfba-4ff8-bb02-d24bfae0b368&quot;,&quot;23ecf854-9c42-4437-87cc-62453c011ed9&quot;,&quot;04bc0352-9ab8-4ae5-9685-4e7097fb004c&quot;,&quot;377f6193-0aa8-4100-8606-5819315a0e71&quot;,&quot;fcf5b887-fe3d-409e-b940-e57d0ebecf0d&quot;,&quot;03af4bc4-4d03-41c8-9d04-c3987d3c4edf&quot;,&quot;1a64c6c8-9301-468b-93f0-94c632ae85c6&quot;,&quot;56c946a7-9efd-495c-8320-1b9ff89861a9&quot;,&quot;dfc77a05-7f02-4853-b17c-6cf4cbd8bb27&quot;,&quot;157f00c7-c8f1-4fdd-97fe-c3b55407a48c&quot;,&quot;0512d52d-70d0-4256-9ab6-cc62950babfc&quot;,&quot;062019a1-0063-4320-88e0-d97d02049f45&quot;,&quot;058cf300-5d63-45ad-95f3-2a000846696e&quot;,&quot;231e55a5-9ceb-449b-8c35-720b80503b5b&quot;,&quot;2f451047-a836-4367-85db-8b8bdb4604b2&quot;,&quot;afa12abb-ab4c-42bd-9642-86313ca71f7b&quot;,&quot;2da860eb-6dd7-449d-92f0-eea1dbe5ff4c&quot;,&quot;7030519a-c967-4cad-9d12-5013ef215636&quot;,&quot;60e2cb18-642e-450f-96df-ad850ea76c42&quot;,&quot;635d2eee-6bea-4ba5-9ba3-b2e5e335a7a6&quot;,&quot;08a0cb39-85d4-4648-b476-2260f83fc16b&quot;,&quot;3b878ed6-4116-4add-95f0-83e6b1b95b08&quot;,&quot;578f8cd6-ec8e-418e-965c-515685ec61e6&quot;,&quot;cddebb54-6ab7-4bd1-b566-2ec39a81ea82&quot;,&quot;5db1ec88-cbe1-4d95-865a-8044dc8a4117&quot;,&quot;b1450085-4557-4dd6-b35b-3259eb46a215&quot;,&quot;01c6d62a-246d-4167-94f0-bb9b7f881d31&quot;,&quot;0e7f6ac0-671a-4277-98fc-4b74d66a35d5&quot;,&quot;0726bf9c-eb75-4c3d-8771-52e702c262eb&quot;,&quot;89bc21ba-e6cb-4221-8284-198ca524e801&quot;,&quot;ee13dfcd-3d97-412f-992d-fea7593a9f14&quot;,&quot;6902bf2f-ab16-4451-98c2-cca54f4aeb01&quot;,&quot;e2a9debe-e141-4f6a-9960-23a1fea2a6dd&quot;,&quot;d8f1795c-8cf6-4561-b306-3c26942517e8&quot;,&quot;7949c62c-924d-41b6-90a0-8d74689df7c5&quot;,&quot;9bb4d87b-083f-4396-a681-d521f0ac4d61&quot;,&quot;78d79b9d-6680-43c7-8638-77bf40ee7464&quot;,&quot;207dc2ad-17b4-4203-8490-dcdc1eff0af8&quot;,&quot;ccde67d4-9c45-4267-bf41-0e0ced437366&quot;,&quot;df2f9610-d001-40be-a0a7-08fdf6f473bc&quot;,&quot;4e42da67-87d9-4ac4-ab9b-b8ecf659d6a2&quot;,&quot;d70543f6-4e36-4aae-b7fc-fcb44457103d&quot;,&quot;8adcfbc4-4539-49e6-b64f-d208fcaf651a&quot;,&quot;9da4bb6f-4295-48cf-bd0a-99d22281c049&quot;,&quot;1dffcb9c-1aa3-4bf2-b69e-e4d2ae549880&quot;,&quot;627b57a5-0479-43f0-a021-ccb617d89b1d&quot;,&quot;fd512512-b8ca-4756-b18f-8f6e46199f7e&quot;,&quot;fff19ccc-2a2c-4853-964a-bcd7b68beebe&quot;,&quot;0d6f13b8-f60a-4fd0-99de-8c5c989502cb&quot;,&quot;1fc69ab3-1010-4bb0-976c-f431cd63cbfd&quot;,&quot;cd971187-eb16-4b42-884a-374ff3241fe7&quot;,&quot;66aff8aa-b7f9-456a-a56e-21813b15e877&quot;,&quot;216d626e-78b5-4456-96eb-6f7eec9fc3ca&quot;,&quot;e8638fb3-41de-4410-933c-7fb015dce48f&quot;,&quot;58772b0f-693f-40ac-b628-75664ab1cd86&quot;,&quot;a42c2526-ad00-4568-9ed0-4fb9ab24411c&quot;,&quot;05c40a4a-c2d0-4336-bd71-41f01c6295b0&quot;,&quot;3f6b0189-28e8-41f5-8ed1-8a8adc4b58df&quot;,&quot;d792e3e3-b277-412a-b721-fedf7b93b3a1&quot;,&quot;531649b2-61c5-4f1e-88f3-07bc7513e801&quot;,&quot;dd72931f-31f6-40ce-90f0-fd5f5635c9d9&quot;,&quot;5cd4596a-f266-408e-85e6-9f7bae4a3e96&quot;,&quot;e01eb17f-d025-4caf-8b46-48f264f11390&quot;,&quot;4ac69b41-4687-43a0-9c25-290454cf5615&quot;,&quot;33a4637f-0fc4-48ed-9c27-8590ed97e39a&quot;,&quot;a740b479-3733-428d-82b0-453f80121d6a&quot;,&quot;d56ed4d0-f310-40d4-a176-6f7946d91564&quot;,&quot;7e483f70-125a-449d-ac08-eec076372402&quot;,&quot;2afa78a3-5a78-439f-8ec4-4684ed2716b1&quot;,&quot;884826ba-7e1b-4d58-a50a-a141686fed89&quot;,&quot;ad5caa36-5772-40c1-b293-eac10163ae94&quot;,&quot;95edc035-f321-4613-b27e-ad0ddb4a80b1&quot;,&quot;36619a90-ec5c-4842-b859-7d4498a8d4e5&quot;,&quot;c9f67e13-7dd2-41c1-8a55-038c16dac1b7&quot;,&quot;6fcec721-145b-4e90-9a26-6da07372a2b2&quot;,&quot;84f2fe25-6d04-4f0c-8d69-d6545e708f27&quot;,&quot;2cb55f9c-0522-4da0-be76-e8053c78a6fd&quot;,&quot;7153e23d-7096-4308-a1a1-2179ef03dfd8&quot;,&quot;77689544-a6bf-4374-babf-1d1f4879853b&quot;,&quot;cf4ccaea-e0a3-41e2-ab61-c7bf0bab8d3f&quot;,&quot;13fb59cb-1cf2-4127-86e6-d18ed4f418d9&quot;,&quot;a7ed664c-1c3e-41ea-9da6-6d7f08f4a8e7&quot;,&quot;6b8545f6-5541-492b-a9ed-d3885291d3bc&quot;,&quot;68f48045-a28a-4da1-9521-c256e5817279&quot;,&quot;5973d70e-819c-408d-9c55-d8f948b99540&quot;,&quot;9d04fb2e-1302-4bb9-b347-3ad61013fae4&quot;,&quot;bb48fefe-92d7-4617-b55d-38fb9cfe9ac8&quot;,&quot;dc4b2199-c954-430c-a489-caa0c5abb8c8&quot;,&quot;691b101c-e05e-4256-a915-20993c90827a&quot;,&quot;751bbb3d-4531-4afd-9fbd-664d9427026a&quot;,&quot;d9eaf390-26ea-429a-8f6f-7471b0650ca0&quot;,&quot;bcda9236-d891-4af6-907b-d583cc1d4a28&quot;,&quot;5afdd03d-f678-488e-9440-7edd17319698&quot;,&quot;db8e4866-1da9-407a-a812-cdd1c005ac4c&quot;,&quot;6b2193a8-b14f-423d-9a50-bc9759da6424&quot;,&quot;c6dfb5db-dbde-46ba-994f-4660f2ef108f&quot;,&quot;82f60931-65f4-44c5-8a95-2d2f7ac3d244&quot;,&quot;50d824b8-956a-4855-9f55-7723b4739e25&quot;,&quot;612e3d13-36f5-470e-a90a-b467bb5a8b87&quot;,&quot;9ca996c4-0b47-4c92-9e0f-4f1b50028bcc&quot;,&quot;7130b5a6-1a07-4fe7-b97a-71b36b918c22&quot;,&quot;3c289667-364d-4881-b1bd-fd0794e3d538&quot;,&quot;1989721a-e89d-439d-b13e-4e8527171132&quot;,&quot;a4b09ec4-fd0a-4945-afb2-cfa68376d1e8&quot;,&quot;d4625037-79fe-4e28-8030-042f267ed369&quot;,&quot;790d11f7-ef00-4f4f-bd24-250cf426fa4c&quot;,&quot;d67be1c7-98cf-40a4-9544-c73dce4e6aca&quot;,&quot;57a422e8-d44c-46f9-ad8e-8b063e72c23d&quot;,&quot;4519a646-0ae8-43a7-b1ad-b64a423a906d&quot;,&quot;4014a137-4457-460d-9752-6b401cf7f6e2&quot;,&quot;a00797d6-b1ae-48e7-928c-55596f1a7bc3&quot;,&quot;ab384c2d-fe9a-4c68-9655-0304c8d8f83e&quot;,&quot;ebaa210e-1ba4-4857-b23d-e4345c0b639e&quot;,&quot;1abefef6-ca9e-49b4-9482-c063b4b13f13&quot;,&quot;de2afb51-c1ab-45a2-b1bd-8b2ada9551a7&quot;,&quot;6ef0274a-1a22-41e9-a55c-d7b0df17c153&quot;,&quot;47eac2e8-71bb-4463-9aff-81d0d87a7833&quot;,&quot;92c8eee6-b53a-4abb-970c-21e409d3b894&quot;,&quot;37d6c8e4-b233-4189-9601-f19b7d774a56&quot;,&quot;9f803e55-776b-45b9-b8cc-a05fd4d94e98&quot;,&quot;238352b2-f531-40bc-8991-7b5648a2a36e&quot;,&quot;dac665f2-5e33-4ac8-9763-6d3297d5e37b&quot;,&quot;965fcf52-98b0-4917-95b9-6e96edc23377&quot;,&quot;9d18f9e7-0e22-41f3-a0c8-ed0c0780eda1&quot;,&quot;3c74b755-6aeb-4691-8bc8-c2e09d16a16f&quot;,&quot;d59dae39-5e32-40e1-a29d-43ba3881ca2f&quot;,&quot;11a77d81-dc50-4d90-b64c-5373b4cd53a5&quot;,&quot;f50b1aef-46ad-48ef-9440-7e39b9eb9940&quot;,&quot;5130d52a-ec98-450f-a024-b8d6c6991c54&quot;,&quot;45cdadf5-1425-4905-af51-913638600ccd&quot;,&quot;fa2f63c4-636c-4ed7-8327-e448d93d3a00&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1460453,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;9.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Email-WhatsApp-Integration-Chatbot&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\Desktop\\BotiumTests\\Rasa\\Tests\\Email-WhatsApp-Integration-Chatbot\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\Desktop\\BotiumTests\\Rasa\\Tests\\Email-WhatsApp-Integration-Chatbot\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>